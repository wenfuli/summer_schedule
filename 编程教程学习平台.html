<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’» ç¼–ç¨‹å­¦ä¹ å¹³å° - åœ¨çº¿è§†é¢‘æ•™ç¨‹</title>
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’»</text></svg>">
    <!-- Video.js CSS -->
    <link href="https://vjs.zencdn.net/8.6.1/video-js.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
        }

        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-menu a:hover {
            color: #667eea;
        }

        .main-container {
            max-width: 1400px;
            margin: 80px auto 0;
            padding: 20px;
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 30px;
        }

        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .sidebar h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.4em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .course-tree {
            list-style: none;
        }

        .course-category {
            margin-bottom: 15px;
        }

        .category-header {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .category-header:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .category-header.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .category-icon {
            font-size: 1.2em;
            margin-right: 10px;
        }

        .category-title {
            font-weight: 600;
            flex: 1;
        }

        .toggle-icon {
            transition: transform 0.3s ease;
        }

        .toggle-icon.rotated {
            transform: rotate(90deg);
        }

        .lesson-list {
            list-style: none;
            margin-top: 10px;
            padding-left: 15px;
            display: none;
        }

        .lesson-list.expanded {
            display: block;
        }

        .lesson-item {
            padding: 8px 15px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .lesson-item:hover {
            background: #e3f2fd;
            border-left-color: #667eea;
        }

        .lesson-item.active {
            background: #e3f2fd;
            border-left-color: #667eea;
            color: #667eea;
            font-weight: 600;
        }

        .lesson-item.completed {
            background: #e8f5e8;
            border-left-color: #27ae60;
            color: #27ae60;
        }

        .lesson-item.completed::after {
            content: "âœ“";
            float: right;
            color: #27ae60;
        }

        .content-area {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 600px;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            margin-bottom: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            overflow: hidden;
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 1.2em;
        }

        .video-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
        }

        .control-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .lesson-content {
            max-width: 800px;
        }

        .lesson-title {
            font-size: 2em;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .lesson-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            color: #7f8c8d;
        }

        .lesson-description {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid #667eea;
        }

        .lesson-objectives {
            margin-bottom: 25px;
        }

        .objectives-list {
            list-style: none;
            padding: 0;
        }

        .objectives-list li {
            padding: 8px 0;
            position: relative;
            padding-left: 25px;
        }

        .objectives-list li::before {
            content: "ğŸ¯";
            position: absolute;
            left: 0;
        }

        .progress-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn.prev {
            background: #6c757d;
            color: white;
        }

        .nav-btn.next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .welcome-screen {
            text-align: center;
            padding: 60px 20px;
        }

        .welcome-icon {
            font-size: 4em;
            margin-bottom: 20px;
            color: #667eea;
        }

        .welcome-title {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .welcome-subtitle {
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 30px;
        }

        .start-learning-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-learning-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-icon {
            font-size: 2em;
            margin-bottom: 10px;
            color: #667eea;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #2c3e50;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .sidebar {
                position: static;
                margin-bottom: 20px;
            }
        }

        @media (max-width: 768px) {
            .header .container {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .main-container {
                margin-top: 120px;
                padding: 10px;
            }
            
            .content-area {
                padding: 20px;
            }
            
            .lesson-title {
                font-size: 1.5em;
            }
        }

        /* æ·»åŠ åŠ¨ç”»æ•ˆæœ */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .lesson-content {
            animation: fadeIn 0.5s ease-out;
        }

        /* Video.js æ ·å¼ä¼˜åŒ– */
        .video-js {
            border-radius: 10px;
            overflow: hidden;
        }

        .video-js .vjs-big-play-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            font-size: 28px;
            line-height: 80px;
            left: 50%;
            top: 50%;
            margin-left: -40px;
            margin-top: -40px;
        }

        .video-js .vjs-control-bar {
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        }

        .video-js .vjs-play-progress {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">ğŸ’» ç¼–ç¨‹å­¦ä¹ å¹³å°</div>
            <nav class="nav-menu">
                <a href="#home">é¦–é¡µ</a>
                <a href="#courses">è¯¾ç¨‹</a>
                <a href="#progress">è¿›åº¦</a>
                <a href="#practice">ç»ƒä¹ </a>
                <a href="#about">å…³äº</a>
            </nav>
        </div>
    </header>

    <div class="main-container">
        <div class="sidebar">
            <h2>ğŸ“š è¯¾ç¨‹ç›®å½•</h2>
            <ul class="course-tree">
                <li class="course-category">
                    <div class="category-header" data-category="basics">
                        <span class="category-icon">ğŸ”¤</span>
                        <span class="category-title">01 è¯­æ³•åŸºç¡€è¯¾</span>
                        <span class="toggle-icon">â–¶</span>
                    </div>
                    <ul class="lesson-list">
                        <li class="lesson-item" data-lesson="variables">å˜é‡ä¸æ•°æ®ç±»å‹</li>
                        <li class="lesson-item" data-lesson="operators">è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼</li>
                        <li class="lesson-item" data-lesson="control">æ§åˆ¶ç»“æ„</li>
                        <li class="lesson-item" data-lesson="functions">å‡½æ•°åŸºç¡€</li>
                        <li class="lesson-item" data-lesson="arrays">æ•°ç»„ä¸å­—ç¬¦ä¸²</li>
                    </ul>
                </li>
                
                <li class="course-category">
                    <div class="category-header" data-category="number-theory">
                        <span class="category-icon">ğŸ”¢</span>
                        <span class="category-title">02 åˆç­‰æ•°è®º</span>
                        <span class="toggle-icon">â–¶</span>
                    </div>
                    <ul class="lesson-list">
                        <li class="lesson-item" data-lesson="divisibility">æ•´é™¤æ€§ç†è®º</li>
                        <li class="lesson-item" data-lesson="prime">è´¨æ•°ä¸ç´ æ•°</li>
                        <li class="lesson-item" data-lesson="gcd">æœ€å¤§å…¬çº¦æ•°</li>
                        <li class="lesson-item" data-lesson="modular">æ¨¡è¿ç®—</li>
                        <li class="lesson-item" data-lesson="euler">æ¬§æ‹‰å‡½æ•°</li>
                    </ul>
                </li>
                
                <li class="course-category">
                    <div class="category-header" data-category="intro-algorithms">
                        <span class="category-icon">ğŸš€</span>
                        <span class="category-title">03 ç®—æ³•å…¥é—¨è¯¾</span>
                        <span class="toggle-icon">â–¶</span>
                    </div>
                    <ul class="lesson-list">
                        <li class="lesson-item" data-lesson="complexity">ç®—æ³•å¤æ‚åº¦</li>
                        <li class="lesson-item" data-lesson="sorting">æ’åºç®—æ³•</li>
                        <li class="lesson-item" data-lesson="searching">æœç´¢ç®—æ³•</li>
                        <li class="lesson-item" data-lesson="recursion">é€’å½’æ€æƒ³</li>
                        <li class="lesson-item" data-lesson="divide-conquer">åˆ†æ²»ç®—æ³•</li>
                    </ul>
                </li>
                
                <li class="course-category">
                    <div class="category-header" data-category="csp-j">
                        <span class="category-icon">ğŸ†</span>
                        <span class="category-title">04 ç®—æ³•åŸºç¡€è¯¾CSP-J</span>
                        <span class="toggle-icon">â–¶</span>
                    </div>
                    <ul class="lesson-list">
                        <li class="lesson-item" data-lesson="simulation">æ¨¡æ‹Ÿç®—æ³•</li>
                        <li class="lesson-item" data-lesson="enumeration">æšä¸¾ç®—æ³•</li>
                        <li class="lesson-item" data-lesson="greedy">è´ªå¿ƒç®—æ³•</li>
                        <li class="lesson-item" data-lesson="dp-basic">åŠ¨æ€è§„åˆ’åŸºç¡€</li>
                        <li class="lesson-item" data-lesson="graph-basic">å›¾è®ºåŸºç¡€</li>
                    </ul>
                </li>
                
                <li class="course-category">
                    <div class="category-header" data-category="advanced-prep">
                        <span class="category-icon">ğŸ“ˆ</span>
                        <span class="category-title">05 æ™®åŠè½¬æé«˜è¯¾</span>
                        <span class="toggle-icon">â–¶</span>
                    </div>
                    <ul class="lesson-list">
                        <li class="lesson-item" data-lesson="data-structures">æ•°æ®ç»“æ„è¿›é˜¶</li>
                        <li class="lesson-item" data-lesson="string-algorithms">å­—ç¬¦ä¸²ç®—æ³•</li>
                        <li class="lesson-item" data-lesson="tree-algorithms">æ ‘å½¢ç®—æ³•</li>
                        <li class="lesson-item" data-lesson="dp-advanced">åŠ¨æ€è§„åˆ’è¿›é˜¶</li>
                        <li class="lesson-item" data-lesson="number-theory-advanced">æ•°è®ºè¿›é˜¶</li>
                    </ul>
                </li>
                
                <li class="course-category">
                    <div class="category-header" data-category="advanced">
                        <span class="category-icon">ğŸ”¥</span>
                        <span class="category-title">06 ç®—æ³•æé«˜ç»„è¯¾</span>
                        <span class="toggle-icon">â–¶</span>
                    </div>
                    <ul class="lesson-list">
                        <li class="lesson-item" data-lesson="segment-tree">çº¿æ®µæ ‘</li>
                        <li class="lesson-item" data-lesson="binary-indexed-tree">æ ‘çŠ¶æ•°ç»„</li>
                        <li class="lesson-item" data-lesson="union-find">å¹¶æŸ¥é›†</li>
                        <li class="lesson-item" data-lesson="shortest-path">æœ€çŸ­è·¯ç®—æ³•</li>
                        <li class="lesson-item" data-lesson="network-flow">ç½‘ç»œæµ</li>
                    </ul>
                </li>
                
                <li class="course-category">
                    <div class="category-header" data-category="competition">
                        <span class="category-icon">ğŸ…</span>
                        <span class="category-title">07 NOIPåŠçœé€‰è¯¾ç¨‹</span>
                        <span class="toggle-icon">â–¶</span>
                    </div>
                    <ul class="lesson-list">
                        <li class="lesson-item" data-lesson="contest-strategies">ç«èµ›ç­–ç•¥</li>
                        <li class="lesson-item" data-lesson="advanced-dp">é«˜çº§åŠ¨æ€è§„åˆ’</li>
                        <li class="lesson-item" data-lesson="computational-geometry">è®¡ç®—å‡ ä½•</li>
                        <li class="lesson-item" data-lesson="string-matching">å­—ç¬¦ä¸²åŒ¹é…</li>
                        <li class="lesson-item" data-lesson="advanced-graph">é«˜çº§å›¾è®º</li>
                    </ul>
                </li>
            </ul>
        </div>

        <div class="content-area">
            <div id="welcome-screen" class="welcome-screen">
                <div class="welcome-icon">ğŸ“</div>
                <h1 class="welcome-title">æ¬¢è¿æ¥åˆ°ç¼–ç¨‹å­¦ä¹ å¹³å°</h1>
                <p class="welcome-subtitle">ç³»ç»ŸåŒ–å­¦ä¹ ç¼–ç¨‹ç«èµ›ç®—æ³•ï¼Œä»åŸºç¡€åˆ°çœé€‰å…¨è¦†ç›–</p>
                <button class="start-learning-btn" onclick="startLearning()">å¼€å§‹å­¦ä¹ </button>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“š</div>
                        <div class="stat-number">7</div>
                        <div class="stat-label">è¯¾ç¨‹ä½“ç³»</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ¬</div>
                        <div class="stat-number" id="total-lessons-count">35</div>
                        <div class="stat-label">ç²¾å“è¯¾ç¨‹</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ’¡</div>
                        <div class="stat-number">500+</div>
                        <div class="stat-label">ç»ƒä¹ é¢˜ç›®</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ†</div>
                        <div class="stat-number">1000+</div>
                        <div class="stat-label">æˆåŠŸå­¦å‘˜</div>
                    </div>
                </div>
            </div>

            <div id="lesson-content" class="lesson-content" style="display: none;">
                <div class="video-container">
                    <div id="video-placeholder" class="video-placeholder">
                        <div style="text-align: center;">
                            <div style="font-size: 3em; margin-bottom: 20px;">â–¶ï¸</div>
                            <div>é€‰æ‹©è¯¾ç¨‹å¼€å§‹å­¦ä¹ </div>
                        </div>
                    </div>
                    <video
                        id="lesson-video"
                        class="video-js vjs-default-skin"
                        controls
                        preload="none"
                        width="100%"
                        height="100%"
                        style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                        data-setup="{}">
                        <p class="vjs-no-js">
                            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ã€‚
                            <a href="https://videojs.com/html5-video-support/" target="_blank">è¯·å‡çº§æ‚¨çš„æµè§ˆå™¨</a>
                        </p>
                    </video>
                </div>

                <div class="lesson-details">
                    <h1 class="lesson-title" id="lesson-title">è¯¾ç¨‹æ ‡é¢˜</h1>
                    <div class="lesson-meta">
                        <span>ğŸ“… æ›´æ–°æ—¶é—´ï¼š2024å¹´1æœˆ</span>
                        <span>â±ï¸ è§†é¢‘æ—¶é•¿ï¼š45åˆ†é’Ÿ</span>
                        <span>ğŸ‘¥ å­¦ä¹ äººæ•°ï¼š1,234äºº</span>
                    </div>

                    <div class="progress-section">
                        <h3>ğŸ“Š å­¦ä¹ è¿›åº¦</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                            <span>è¿›åº¦ï¼š<span id="progress-text">0%</span></span>
                            <span>å·²å®Œæˆï¼š<span id="completed-lessons">0</span>/35 è¯¾</span>
                        </div>
                    </div>

                    <div class="lesson-description">
                        <h3>ğŸ“ è¯¾ç¨‹æè¿°</h3>
                        <p id="lesson-description">é€‰æ‹©å·¦ä¾§è¯¾ç¨‹å¼€å§‹å­¦ä¹ </p>
                    </div>

                    <div class="lesson-objectives">
                        <h3>ğŸ¯ å­¦ä¹ ç›®æ ‡</h3>
                        <ul class="objectives-list" id="lesson-objectives">
                            <li>æŒæ¡åŸºæœ¬æ¦‚å¿µå’ŒåŸç†</li>
                            <li>å­¦ä¼šå®é™…åº”ç”¨å’Œç»ƒä¹ </li>
                            <li>èƒ½å¤Ÿè§£å†³ç›¸å…³ç®—æ³•é—®é¢˜</li>
                        </ul>
                    </div>

                    <div class="navigation-buttons">
                        <button class="nav-btn prev" onclick="previousLesson()">â† ä¸Šä¸€è¯¾</button>
                        <button class="nav-btn next" onclick="nextLesson()">ä¸‹ä¸€è¯¾ â†’</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video.js JavaScript -->
    <script src="https://vjs.zencdn.net/8.6.1/video.min.js"></script>
    
    <script>
        // åŒ—è¾°OIä¿±ä¹éƒ¨è¯¾ç¨‹æ•°æ®ï¼ˆä½¿ç”¨çœŸå®è§†é¢‘èµ„æºï¼‰
        const BASE_VIDEO_URL = 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb';
        
        const courseData = {
            'variables': {
                title: 'å˜é‡ä¸æ•°æ®ç±»å‹',
                description: 'å­¦ä¹ C++ç¼–ç¨‹ä¸­çš„åŸºæœ¬å˜é‡ç±»å‹ï¼ŒåŒ…æ‹¬æ•´å‹ã€æµ®ç‚¹å‹ã€å­—ç¬¦å‹ç­‰ï¼ŒæŒæ¡å˜é‡çš„å£°æ˜ã€åˆå§‹åŒ–å’Œä½¿ç”¨æ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/01%20%e8%af%ad%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%be/%e7%ac%ac01%e8%ae%b2%ef%bc%9a%e7%a8%8b%e5%ba%8f%e7%9a%84%e8%be%93%e5%85%a5%e5%92%8c%e8%be%93%e5%87%ba/002.-day01-%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba%ef%bc%88%e4%b8%8a%ef%bc%89.mp4',
                category: 'syntax',
                level: 'beginner',
                duration: '45åˆ†é’Ÿ',
                objectives: ['ç†è§£å˜é‡çš„æ¦‚å¿µ', 'æŒæ¡åŸºæœ¬æ•°æ®ç±»å‹', 'å­¦ä¼šå˜é‡çš„å£°æ˜å’Œåˆå§‹åŒ–']
            },
            'input_output': {
                title: 'åŸºæœ¬è¾“å…¥è¾“å‡º',
                description: 'å­¦ä¹ C++ä¸­çš„è¾“å…¥è¾“å‡ºæ“ä½œï¼ŒåŒ…æ‹¬cinã€coutçš„ä½¿ç”¨ï¼Œæ ¼å¼åŒ–è¾“å‡ºï¼Œä»¥åŠå¸¸è§çš„è¾“å…¥è¾“å‡ºæŠ€å·§ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/01%20%e8%af%ad%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%be/%e7%ac%ac01%e8%ae%b2%ef%bc%9a%e7%a8%8b%e5%ba%8f%e7%9a%84%e8%be%93%e5%85%a5%e5%92%8c%e8%be%93%e5%87%ba/003.-day01-%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba%ef%bc%88%e4%b8%8b%ef%bc%89.mp4',
                category: 'syntax',
                level: 'beginner',
                duration: '35åˆ†é’Ÿ',
                objectives: ['æŒæ¡cinå’Œcoutçš„ä½¿ç”¨', 'ç†è§£è¾“å…¥è¾“å‡ºæµ', 'å­¦ä¼šæ ¼å¼åŒ–è¾“å‡º']
            },
            'conditional': {
                title: 'æ¡ä»¶è¯­å¥',
                description: 'å­¦ä¹ if-elseæ¡ä»¶è¯­å¥çš„ä½¿ç”¨ï¼ŒåŒ…æ‹¬å•åˆ†æ”¯ã€åŒåˆ†æ”¯ã€å¤šåˆ†æ”¯æ¡ä»¶è¯­å¥ï¼Œä»¥åŠåµŒå¥—æ¡ä»¶è¯­å¥ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/01%20%e8%af%ad%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%be/%e7%ac%ac02%e8%ae%b2%ef%bc%9a%e6%9d%a1%e4%bb%b6%e8%af%ad%e5%8f%a5/004.-day02-%e6%9d%a1%e4%bb%b6%e8%af%ad%e5%8f%a5%ef%bc%88%e4%b8%8a%ef%bc%89.mp4',
                category: 'syntax',
                level: 'beginner',
                duration: '40åˆ†é’Ÿ',
                objectives: ['æŒæ¡if-elseè¯­å¥', 'ç†è§£æ¡ä»¶åˆ¤æ–­', 'å­¦ä¼šå¤šåˆ†æ”¯è¯­å¥']
            },
            'loops': {
                title: 'å¾ªç¯ç»“æ„',
                description: 'å­¦ä¹ forå¾ªç¯ã€whileå¾ªç¯å’Œdo-whileå¾ªç¯çš„ä½¿ç”¨æ–¹æ³•ï¼ŒæŒæ¡å¾ªç¯çš„åµŒå¥—å’Œå¾ªç¯æ§åˆ¶ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/01%20%e8%af%ad%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%be/%e7%ac%ac03%e8%ae%b2%ef%bc%9a%e5%be%aa%e7%8e%af%e7%bb%93%e6%9e%84/005.-day03-%e5%be%aa%e7%8e%af%e7%bb%93%e6%9e%84%ef%bc%88%e4%b8%8a%ef%bc%89.mp4',
                category: 'syntax',
                level: 'beginner',
                duration: '50åˆ†é’Ÿ',
                objectives: ['æŒæ¡forå¾ªç¯', 'ç†è§£whileå¾ªç¯', 'å­¦ä¼šå¾ªç¯åµŒå¥—']
            },
            'arrays': {
                title: 'æ•°ç»„åŸºç¡€',
                description: 'å­¦ä¹ ä¸€ç»´æ•°ç»„å’ŒäºŒç»´æ•°ç»„çš„å£°æ˜ã€åˆå§‹åŒ–å’Œä½¿ç”¨æ–¹æ³•ï¼ŒæŒæ¡æ•°ç»„çš„éå†å’Œå¸¸è§æ“ä½œã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/01%20%e8%af%ad%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%be/%e7%ac%ac04%e8%ae%b2%ef%bc%9a%e6%95%b0%e7%bb%84%e5%9f%ba%e7%a1%80/006.-day04-%e6%95%b0%e7%bb%84%e5%9f%ba%e7%a1%80%ef%bc%88%e4%b8%8a%ef%bc%89.mp4',
                category: 'syntax',
                level: 'beginner',
                duration: '45åˆ†é’Ÿ',
                objectives: ['æŒæ¡æ•°ç»„çš„å£°æ˜', 'ç†è§£æ•°ç»„çš„è®¿é—®', 'å­¦ä¼šæ•°ç»„éå†']
            },
            'functions': {
                title: 'å‡½æ•°åŸºç¡€',
                description: 'å­¦ä¹ å‡½æ•°çš„å®šä¹‰ã€è°ƒç”¨å’Œå‚æ•°ä¼ é€’ï¼ŒæŒæ¡å‡½æ•°çš„è¿”å›å€¼å’Œä½œç”¨åŸŸæ¦‚å¿µã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/01%20%e8%af%ad%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%be/%e7%ac%ac05%e8%ae%b2%ef%bc%9a%e5%87%bd%e6%95%b0%e5%9f%ba%e7%a1%80/007.-day05-%e5%87%bd%e6%95%b0%e5%9f%ba%e7%a1%80%ef%bc%88%e4%b8%8a%ef%bc%89.mp4',
                category: 'syntax',
                level: 'beginner',
                duration: '40åˆ†é’Ÿ',
                objectives: ['æŒæ¡å‡½æ•°å®šä¹‰', 'ç†è§£å‚æ•°ä¼ é€’', 'å­¦ä¼šè¿”å›å€¼ä½¿ç”¨']
            },
            'divisibility': {
                title: 'æ•´é™¤ä¸ä½™æ•°',
                description: 'å­¦ä¹ æ•´é™¤çš„æ¦‚å¿µã€æ€§è´¨å’Œåˆ¤æ–­æ–¹æ³•ï¼ŒæŒæ¡ä½™æ•°çš„è®¡ç®—å’Œåº”ç”¨ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/02%20%e5%88%9d%e7%ad%89%e6%95%b0%e8%ae%ba/%e7%ac%ac01%e8%ae%b2%ef%bc%9a%e6%95%b4%e9%99%a4%e4%b8%8e%e4%bd%99%e6%95%b0/008.-day06-%e6%95%b4%e9%99%a4%e4%b8%8e%e4%bd%99%e6%95%b0.mp4',
                category: 'number_theory',
                level: 'beginner',
                duration: '45åˆ†é’Ÿ',
                objectives: ['ç†è§£æ•´é™¤æ¦‚å¿µ', 'æŒæ¡ä½™æ•°è®¡ç®—', 'å­¦ä¼šæ•´é™¤åˆ¤æ–­']
            },
            'gcd_lcm': {
                title: 'æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°',
                description: 'å­¦ä¹ æœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°çš„æ¦‚å¿µã€æ€§è´¨å’Œæ±‚è§£æ–¹æ³•ï¼ŒåŒ…æ‹¬è¾—è½¬ç›¸é™¤æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/02%20%e5%88%9d%e7%ad%89%e6%95%b0%e8%ae%ba/%e7%ac%ac02%e8%ae%b2%ef%bc%9a%e6%9c%80%e5%a4%a7%e5%85%ac%e7%ba%a6%e6%95%b0%e4%b8%8e%e6%9c%80%e5%b0%8f%e5%85%ac%e5%80%8d%e6%95%b0/009.-day07-%e6%9c%80%e5%a4%a7%e5%85%ac%e7%ba%a6%e6%95%b0%e4%b8%8e%e6%9c%80%e5%b0%8f%e5%85%ac%e5%80%8d%e6%95%b0.mp4',
                category: 'number_theory',
                level: 'intermediate',
                duration: '50åˆ†é’Ÿ',
                objectives: ['æŒæ¡gcdå’Œlcmæ¦‚å¿µ', 'å­¦ä¼šè¾—è½¬ç›¸é™¤æ³•', 'ç†è§£æ•°è®ºæ€§è´¨']
            },
            'prime_numbers': {
                title: 'è´¨æ•°ä¸åˆæ•°',
                description: 'å­¦ä¹ è´¨æ•°å’Œåˆæ•°çš„æ¦‚å¿µã€åˆ¤æ–­æ–¹æ³•ï¼ŒæŒæ¡è´¨æ•°ç­›é€‰ç®—æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/02%20%e5%88%9d%e7%ad%89%e6%95%b0%e8%ae%ba/%e7%ac%ac03%e8%ae%b2%ef%bc%9a%e8%b4%a8%e6%95%b0%e4%b8%8e%e5%90%88%e6%95%b0/010.-day08-%e8%b4%a8%e6%95%b0%e4%b8%8e%e5%90%88%e6%95%b0.mp4',
                category: 'number_theory',
                level: 'intermediate',
                duration: '40åˆ†é’Ÿ',
                objectives: ['ç†è§£è´¨æ•°æ¦‚å¿µ', 'æŒæ¡è´¨æ•°åˆ¤æ–­', 'å­¦ä¼šåŸƒæ°ç­›æ³•']
            },
            'modular_arithmetic': {
                title: 'æ¨¡è¿ç®—',
                description: 'å­¦ä¹ æ¨¡è¿ç®—çš„æ¦‚å¿µã€æ€§è´¨å’Œåº”ç”¨ï¼ŒæŒæ¡æ¨¡è¿ç®—åœ¨ç®—æ³•ä¸­çš„ä½¿ç”¨ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/02%20%e5%88%9d%e7%ad%89%e6%95%b0%e8%ae%ba/%e7%ac%ac04%e8%ae%b2%ef%bc%9a%e6%a8%a1%e8%bf%90%e7%ae%97/011.-day09-%e6%a8%a1%e8%bf%90%e7%ae%97.mp4',
                category: 'number_theory',
                level: 'intermediate',
                duration: '35åˆ†é’Ÿ',
                objectives: ['æŒæ¡æ¨¡è¿ç®—æ€§è´¨', 'ç†è§£åŒä½™æ¦‚å¿µ', 'å­¦ä¼šæ¨¡è¿ç®—åº”ç”¨']
            },
            'fast_power': {
                title: 'å¿«é€Ÿå¹‚',
                description: 'å­¦ä¹ å¿«é€Ÿå¹‚ç®—æ³•çš„åŸç†å’Œå®ç°ï¼ŒæŒæ¡å¤§æ•°å¹‚è¿ç®—çš„ä¼˜åŒ–æ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/02%20%e5%88%9d%e7%ad%89%e6%95%b0%e8%ae%ba/%e7%ac%ac05%e8%ae%b2%ef%bc%9a%e5%bf%ab%e9%80%9f%e5%b9%82/012.-day10-%e5%bf%ab%e9%80%9f%e5%b9%82.mp4',
                category: 'number_theory',
                level: 'intermediate',
                duration: '45åˆ†é’Ÿ',
                objectives: ['ç†è§£å¿«é€Ÿå¹‚åŸç†', 'æŒæ¡é€’å½’å®ç°', 'å­¦ä¼šè¿­ä»£ä¼˜åŒ–']
            },
            'algorithm_complexity': {
                title: 'ç®—æ³•å¤æ‚åº¦',
                description: 'å­¦ä¹ æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦çš„æ¦‚å¿µï¼ŒæŒæ¡ç®—æ³•æ•ˆç‡åˆ†ææ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/03%20%e7%ae%97%e6%b3%95%e5%85%a5%e9%97%a8%e8%af%be/%e7%ac%ac01%e8%ae%b2%ef%bc%9a%e7%ae%97%e6%b3%95%e5%a4%8d%e6%9d%82%e5%ba%a6/013.-day11-%e7%ae%97%e6%b3%95%e5%a4%8d%e6%9d%82%e5%ba%a6.mp4',
                category: 'algorithm_intro',
                level: 'beginner',
                duration: '40åˆ†é’Ÿ',
                objectives: ['ç†è§£æ—¶é—´å¤æ‚åº¦', 'æŒæ¡ç©ºé—´å¤æ‚åº¦', 'å­¦ä¼šæ•ˆç‡åˆ†æ']
            },
            'sorting_algorithms': {
                title: 'æ’åºç®—æ³•',
                description: 'å­¦ä¹ å¸¸è§çš„æ’åºç®—æ³•ï¼ŒåŒ…æ‹¬å†’æ³¡æ’åºã€é€‰æ‹©æ’åºã€æ’å…¥æ’åºå’Œå¿«é€Ÿæ’åºã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/03%20%e7%ae%97%e6%b3%95%e5%85%a5%e9%97%a8%e8%af%be/%e7%ac%ac02%e8%ae%b2%ef%bc%9a%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95/014.-day12-%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95%ef%bc%88%e4%b8%8a%ef%bc%89.mp4',
                category: 'algorithm_intro',
                level: 'intermediate',
                duration: '55åˆ†é’Ÿ',
                objectives: ['æŒæ¡åŸºæœ¬æ’åºç®—æ³•', 'ç†è§£æ’åºåŸç†', 'å­¦ä¼šç®—æ³•ä¼˜åŒ–']
            },
            'searching_algorithms': {
                title: 'æŸ¥æ‰¾ç®—æ³•',
                description: 'å­¦ä¹ çº¿æ€§æŸ¥æ‰¾å’ŒäºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼ŒæŒæ¡æŸ¥æ‰¾ç®—æ³•çš„åº”ç”¨åœºæ™¯ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/03%20%e7%ae%97%e6%b3%95%e5%85%a5%e9%97%a8%e8%af%be/%e7%ac%ac03%e8%ae%b2%ef%bc%9a%e6%9f%a5%e6%89%be%e7%ae%97%e6%b3%95/015.-day13-%e6%9f%a5%e6%89%be%e7%ae%97%e6%b3%95.mp4',
                category: 'algorithm_intro',
                level: 'intermediate',
                duration: '35åˆ†é’Ÿ',
                objectives: ['æŒæ¡çº¿æ€§æŸ¥æ‰¾', 'ç†è§£äºŒåˆ†æŸ¥æ‰¾', 'å­¦ä¼šæŸ¥æ‰¾ä¼˜åŒ–']
            },
            'recursion': {
                title: 'é€’å½’ç®—æ³•',
                description: 'å­¦ä¹ é€’å½’çš„æ¦‚å¿µå’Œåº”ç”¨ï¼ŒæŒæ¡é€’å½’ç®—æ³•çš„è®¾è®¡å’Œå®ç°æ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/03%20%e7%ae%97%e6%b3%95%e5%85%a5%e9%97%a8%e8%af%be/%e7%ac%ac04%e8%ae%b2%ef%bc%9a%e9%80%92%e5%bd%92%e7%ae%97%e6%b3%95/016.-day14-%e9%80%92%e5%bd%92%e7%ae%97%e6%b3%95.mp4',
                category: 'algorithm_intro',
                level: 'intermediate',
                duration: '45åˆ†é’Ÿ',
                objectives: ['ç†è§£é€’å½’æ¦‚å¿µ', 'æŒæ¡é€’å½’è®¾è®¡', 'å­¦ä¼šé€’å½’ä¼˜åŒ–']
            },
            'greedy_algorithm': {
                title: 'è´ªå¿ƒç®—æ³•',
                description: 'å­¦ä¹ è´ªå¿ƒç®—æ³•çš„æ€æƒ³å’Œåº”ç”¨ï¼ŒæŒæ¡è´ªå¿ƒç­–ç•¥çš„é€‰æ‹©å’Œè¯æ˜ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/03%20%e7%ae%97%e6%b3%95%e5%85%a5%e9%97%a8%e8%af%be/%e7%ac%ac05%e8%ae%b2%ef%bc%9a%e8%b4%aa%e5%bf%83%e7%ae%97%e6%b3%95/017.-day15-%e8%b4%aa%e5%bf%83%e7%ae%97%e6%b3%95.mp4',
                category: 'algorithm_intro',
                level: 'intermediate',
                duration: '50åˆ†é’Ÿ',
                objectives: ['ç†è§£è´ªå¿ƒæ€æƒ³', 'æŒæ¡è´ªå¿ƒç­–ç•¥', 'å­¦ä¼šæ­£ç¡®æ€§è¯æ˜']
            },
            'simulation': {
                title: 'æ¨¡æ‹Ÿç®—æ³•',
                description: 'å­¦ä¹ æ¨¡æ‹Ÿç®—æ³•çš„è®¾è®¡æ€è·¯ï¼ŒæŒæ¡å¤æ‚é¢˜ç›®çš„æ¨¡æ‹Ÿå®ç°æ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/04%20%e7%ae%97%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%beCSP-J/%e7%ac%ac01%e8%ae%b2%ef%bc%9a%e6%a8%a1%e6%8b%9f%e7%ae%97%e6%b3%95/018.-day16-%e6%a8%a1%e6%8b%9f%e7%ae%97%e6%b3%95.mp4',
                category: 'csp_j',
                level: 'intermediate',
                duration: '40åˆ†é’Ÿ',
                objectives: ['æŒæ¡æ¨¡æ‹Ÿæ€è·¯', 'å­¦ä¼šç»†èŠ‚å¤„ç†', 'æé«˜ä»£ç å®ç°èƒ½åŠ›']
            },
            'enumeration': {
                title: 'æšä¸¾ç®—æ³•',
                description: 'å­¦ä¹ æšä¸¾ç®—æ³•çš„åº”ç”¨ï¼ŒæŒæ¡æš´åŠ›æšä¸¾å’Œä¼˜åŒ–æšä¸¾çš„æ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/04%20%e7%ae%97%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%beCSP-J/%e7%ac%ac02%e8%ae%b2%ef%bc%9a%e6%9e%9a%e4%b8%be%e7%ae%97%e6%b3%95/019.-day17-%e6%9e%9a%e4%b8%be%e7%ae%97%e6%b3%95.mp4',
                category: 'csp_j',
                level: 'intermediate',
                duration: '45åˆ†é’Ÿ',
                objectives: ['æŒæ¡æšä¸¾æ€æƒ³', 'å­¦ä¼šå‰ªæä¼˜åŒ–', 'æé«˜æšä¸¾æ•ˆç‡']
            },
            'prefix_sum': {
                title: 'å‰ç¼€å’Œ',
                description: 'å­¦ä¹ å‰ç¼€å’Œçš„æ¦‚å¿µå’Œåº”ç”¨ï¼ŒæŒæ¡åŒºé—´æŸ¥è¯¢çš„ä¼˜åŒ–æ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/04%20%e7%ae%97%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%beCSP-J/%e7%ac%ac03%e8%ae%b2%ef%bc%9a%e5%89%8d%e7%bc%80%e5%92%8c/020.-day18-%e5%89%8d%e7%bc%80%e5%92%8c.mp4',
                category: 'csp_j',
                level: 'intermediate',
                duration: '35åˆ†é’Ÿ',
                objectives: ['ç†è§£å‰ç¼€å’Œæ¦‚å¿µ', 'æŒæ¡åŒºé—´æŸ¥è¯¢', 'å­¦ä¼šäºŒç»´å‰ç¼€å’Œ']
            },
            'difference_array': {
                title: 'å·®åˆ†æ•°ç»„',
                description: 'å­¦ä¹ å·®åˆ†æ•°ç»„çš„æ¦‚å¿µå’Œåº”ç”¨ï¼ŒæŒæ¡åŒºé—´ä¿®æ”¹çš„ä¼˜åŒ–æ–¹æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/04%20%e7%ae%97%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%beCSP-J/%e7%ac%ac04%e8%ae%b2%ef%bc%9a%e5%b7%ae%e5%88%86%e6%95%b0%e7%bb%84/021.-day19-%e5%b7%ae%e5%88%86%e6%95%b0%e7%bb%84.mp4',
                category: 'csp_j',
                level: 'intermediate',
                duration: '40åˆ†é’Ÿ',
                objectives: ['ç†è§£å·®åˆ†æ¦‚å¿µ', 'æŒæ¡åŒºé—´ä¿®æ”¹', 'å­¦ä¼šå·®åˆ†åº”ç”¨']
            },
            'binary_search': {
                title: 'äºŒåˆ†æŸ¥æ‰¾',
                description: 'æ·±å…¥å­¦ä¹ äºŒåˆ†æŸ¥æ‰¾çš„å„ç§å˜å½¢ï¼ŒæŒæ¡äºŒåˆ†ç­”æ¡ˆçš„æ€æƒ³ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/04%20%e7%ae%97%e6%b3%95%e5%9f%ba%e7%a1%80%e8%af%beCSP-J/%e7%ac%ac05%e8%ae%b2%ef%bc%9a%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be/022.-day20-%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be.mp4',
                category: 'csp_j',
                level: 'intermediate',
                duration: '50åˆ†é’Ÿ',
                objectives: ['æ·±å…¥ç†è§£äºŒåˆ†', 'æŒæ¡äºŒåˆ†ç­”æ¡ˆ', 'å­¦ä¼šè¾¹ç•Œå¤„ç†']
            },
            'dynamic_programming': {
                title: 'åŠ¨æ€è§„åˆ’å…¥é—¨',
                description: 'å­¦ä¹ åŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ€æƒ³ï¼ŒæŒæ¡çº¿æ€§DPå’ŒèƒŒåŒ…é—®é¢˜çš„è§£æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/05%20%e6%99%ae%e5%8f%8a%e8%bd%ac%e6%8f%90%e9%ab%98%e8%af%be/%e7%ac%ac01%e8%ae%b2%ef%bc%9a%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%85%a5%e9%97%a8/023.-day21-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%85%a5%e9%97%a8.mp4',
                category: 'advanced',
                level: 'advanced',
                duration: '60åˆ†é’Ÿ',
                objectives: ['ç†è§£DPæ€æƒ³', 'æŒæ¡çŠ¶æ€è½¬ç§»', 'å­¦ä¼šèƒŒåŒ…é—®é¢˜']
            },
            'graph_theory': {
                title: 'å›¾è®ºåŸºç¡€',
                description: 'å­¦ä¹ å›¾çš„åŸºæœ¬æ¦‚å¿µå’Œè¡¨ç¤ºæ–¹æ³•ï¼ŒæŒæ¡å›¾çš„éå†ç®—æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/05%20%e6%99%ae%e5%8f%8a%e8%bd%ac%e6%8f%90%e9%ab%98%e8%af%be/%e7%ac%ac02%e8%ae%b2%ef%bc%9a%e5%9b%be%e8%ae%ba%e5%9f%ba%e7%a1%80/024.-day22-%e5%9b%be%e8%ae%ba%e5%9f%ba%e7%a1%80.mp4',
                category: 'advanced',
                level: 'advanced',
                duration: '55åˆ†é’Ÿ',
                objectives: ['ç†è§£å›¾çš„æ¦‚å¿µ', 'æŒæ¡å›¾çš„å­˜å‚¨', 'å­¦ä¼šDFSå’ŒBFS']
            },
            'shortest_path': {
                title: 'æœ€çŸ­è·¯å¾„',
                description: 'å­¦ä¹ æœ€çŸ­è·¯å¾„ç®—æ³•ï¼ŒåŒ…æ‹¬Dijkstraå’ŒFloydç®—æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/05%20%e6%99%ae%e5%8f%8a%e8%bd%ac%e6%8f%90%e9%ab%98%e8%af%be/%e7%ac%ac03%e8%ae%b2%ef%bc%9a%e6%9c%80%e7%9f%ad%e8%b7%af%e5%be%84/025.-day23-%e6%9c%80%e7%9f%ad%e8%b7%af%e5%be%84.mp4',
                category: 'advanced',
                level: 'advanced',
                duration: '50åˆ†é’Ÿ',
                objectives: ['æŒæ¡Dijkstraç®—æ³•', 'ç†è§£Floydç®—æ³•', 'å­¦ä¼šè·¯å¾„è®°å½•']
            },
            'minimum_spanning_tree': {
                title: 'æœ€å°ç”Ÿæˆæ ‘',
                description: 'å­¦ä¹ æœ€å°ç”Ÿæˆæ ‘çš„æ¦‚å¿µå’Œç®—æ³•ï¼ŒæŒæ¡Kruskalå’ŒPrimç®—æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/05%20%e6%99%ae%e5%8f%8a%e8%bd%ac%e6%8f%90%e9%ab%98%e8%af%be/%e7%ac%ac04%e8%ae%b2%ef%bc%9a%e6%9c%80%e5%b0%8f%e7%94%9f%e6%88%90%e6%a0%91/026.-day24-%e6%9c%80%e5%b0%8f%e7%94%9f%e6%88%90%e6%a0%91.mp4',
                category: 'advanced',
                level: 'advanced',
                duration: '45åˆ†é’Ÿ',
                objectives: ['ç†è§£ç”Ÿæˆæ ‘æ¦‚å¿µ', 'æŒæ¡Kruskalç®—æ³•', 'å­¦ä¼šPrimç®—æ³•']
            },
            'advanced_data_structure': {
                title: 'é«˜çº§æ•°æ®ç»“æ„',
                description: 'å­¦ä¹ é«˜çº§æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬å †ã€å¹¶æŸ¥é›†ç­‰ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/05%20%e6%99%ae%e5%8f%8a%e8%bd%ac%e6%8f%90%e9%ab%98%e8%af%be/%e7%ac%ac05%e8%ae%b2%ef%bc%9a%e9%ab%98%e7%ba%a7%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84/027.-day25-%e9%ab%98%e7%ba%a7%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84.mp4',
                category: 'advanced',
                level: 'advanced',
                duration: '55åˆ†é’Ÿ',
                objectives: ['æŒæ¡å †çš„æ“ä½œ', 'ç†è§£å¹¶æŸ¥é›†', 'å­¦ä¼šæ ‘çŠ¶æ•°ç»„']
            },
            'advanced_dp': {
                title: 'é«˜çº§åŠ¨æ€è§„åˆ’',
                description: 'å­¦ä¹ é«˜çº§åŠ¨æ€è§„åˆ’æŠ€å·§ï¼ŒåŒ…æ‹¬çŠ¶æ€å‹ç¼©DPã€åŒºé—´DPç­‰ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/06%20%e7%ae%97%e6%b3%95%e6%8f%90%e9%ab%98%e7%bb%84%e8%af%be/%e7%ac%ac01%e8%ae%b2%ef%bc%9a%e9%ab%98%e7%ba%a7%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92/028.-day26-%e9%ab%98%e7%ba%a7%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92.mp4',
                category: 'expert',
                level: 'expert',
                duration: '70åˆ†é’Ÿ',
                objectives: ['æŒæ¡çŠ¶æ€å‹ç¼©DP', 'ç†è§£åŒºé—´DP', 'å­¦ä¼šDPä¼˜åŒ–']
            },
            'advanced_graph': {
                title: 'é«˜çº§å›¾è®º',
                description: 'å­¦ä¹ é«˜çº§å›¾è®ºç®—æ³•ï¼ŒåŒ…æ‹¬å¼ºè¿é€šåˆ†é‡ã€å‰²ç‚¹å‰²è¾¹ç­‰ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/06%20%e7%ae%97%e6%b3%95%e6%8f%90%e9%ab%98%e7%bb%84%e8%af%be/%e7%ac%ac02%e8%ae%b2%ef%bc%9a%e9%ab%98%e7%ba%a7%e5%9b%be%e8%ae%ba/029.-day27-%e9%ab%98%e7%ba%a7%e5%9b%be%e8%ae%ba.mp4',
                category: 'expert',
                level: 'expert',
                duration: '65åˆ†é’Ÿ',
                objectives: ['æŒæ¡å¼ºè¿é€šåˆ†é‡', 'ç†è§£å‰²ç‚¹å‰²è¾¹', 'å­¦ä¼šå›¾è®ºåº”ç”¨']
            },
            'network_flow': {
                title: 'ç½‘ç»œæµ',
                description: 'å­¦ä¹ ç½‘ç»œæµçš„åŸºæœ¬æ¦‚å¿µå’Œç®—æ³•ï¼ŒæŒæ¡æœ€å¤§æµæœ€å°å‰²å®šç†ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/06%20%e7%ae%97%e6%b3%95%e6%8f%90%e9%ab%98%e7%bb%84%e8%af%be/%e7%ac%ac03%e8%ae%b2%ef%bc%9a%e7%bd%91%e7%bb%9c%e6%b5%81/030.-day28-%e7%bd%91%e7%bb%9c%e6%b5%81.mp4',
                category: 'expert',
                level: 'expert',
                duration: '75åˆ†é’Ÿ',
                objectives: ['ç†è§£ç½‘ç»œæµæ¦‚å¿µ', 'æŒæ¡æœ€å¤§æµç®—æ³•', 'å­¦ä¼šæœ€å°å‰²åº”ç”¨']
            },
            'string_algorithm': {
                title: 'å­—ç¬¦ä¸²ç®—æ³•',
                description: 'å­¦ä¹ é«˜çº§å­—ç¬¦ä¸²ç®—æ³•ï¼ŒåŒ…æ‹¬KMPã€ACè‡ªåŠ¨æœºç­‰ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/06%20%e7%ae%97%e6%b3%95%e6%8f%90%e9%ab%98%e7%bb%84%e8%af%be/%e7%ac%ac04%e8%ae%b2%ef%bc%9a%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%ae%97%e6%b3%95/031.-day29-%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%ae%97%e6%b3%95.mp4',
                category: 'expert',
                level: 'expert',
                duration: '60åˆ†é’Ÿ',
                objectives: ['æŒæ¡KMPç®—æ³•', 'ç†è§£ACè‡ªåŠ¨æœº', 'å­¦ä¼šå­—ç¬¦ä¸²å¤„ç†']
            },
            'computational_geometry': {
                title: 'è®¡ç®—å‡ ä½•',
                description: 'å­¦ä¹ è®¡ç®—å‡ ä½•çš„åŸºæœ¬æ¦‚å¿µå’Œç®—æ³•ï¼ŒæŒæ¡å‡ ä½•é—®é¢˜çš„è§£æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/06%20%e7%ae%97%e6%b3%95%e6%8f%90%e9%ab%98%e7%bb%84%e8%af%be/%e7%ac%ac05%e8%ae%b2%ef%bc%9a%e8%ae%a1%e7%ae%97%e5%87%a0%e4%bd%95/032.-day30-%e8%ae%a1%e7%ae%97%e5%87%a0%e4%bd%95.mp4',
                category: 'expert',
                level: 'expert',
                duration: '55åˆ†é’Ÿ',
                objectives: ['ç†è§£å‡ ä½•åŸºç¡€', 'æŒæ¡å‡ ä½•ç®—æ³•', 'å­¦ä¼šå‡ ä½•åº”ç”¨']
            },
            'noip_preparation': {
                title: 'NOIPå¤‡è€ƒç­–ç•¥',
                description: 'å­¦ä¹ NOIPè€ƒè¯•çš„å‡†å¤‡ç­–ç•¥ï¼ŒæŒæ¡è€ƒè¯•æŠ€å·§å’Œæ—¶é—´ç®¡ç†ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/07%20NOIP%e5%8f%8a%e7%9c%81%e9%80%89%e8%af%be%e7%a8%8b/%e7%ac%ac01%e8%ae%b2%ef%bc%9aNOIP%e5%a4%87%e8%80%83%e7%ad%96%e7%95%a5/033.-day31-NOIP%e5%a4%87%e8%80%83%e7%ad%96%e7%95%a5.mp4',
                category: 'competition',
                level: 'expert',
                duration: '45åˆ†é’Ÿ',
                objectives: ['äº†è§£NOIPè€ƒè¯•', 'æŒæ¡å¤‡è€ƒç­–ç•¥', 'å­¦ä¼šæ—¶é—´ç®¡ç†']
            },
            'problem_solving': {
                title: 'é—®é¢˜è§£å†³æŠ€å·§',
                description: 'å­¦ä¹ ç«èµ›ä¸­çš„é—®é¢˜è§£å†³æŠ€å·§ï¼ŒæŒæ¡é¢˜ç›®åˆ†æå’Œç®—æ³•é€‰æ‹©ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/07%20NOIP%e5%8f%8a%e7%9c%81%e9%80%89%e8%af%be%e7%a8%8b/%e7%ac%ac02%e8%ae%b2%ef%bc%9a%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3%e6%8a%80%e5%b7%a7/034.-day32-%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3%e6%8a%80%e5%b7%a7.mp4',
                category: 'competition',
                level: 'expert',
                duration: '50åˆ†é’Ÿ',
                objectives: ['æŒæ¡é¢˜ç›®åˆ†æ', 'å­¦ä¼šç®—æ³•é€‰æ‹©', 'æé«˜è§£é¢˜æ•ˆç‡']
            },
            'optimization_techniques': {
                title: 'ä¼˜åŒ–æŠ€å·§',
                description: 'å­¦ä¹ ç¨‹åºä¼˜åŒ–çš„å„ç§æŠ€å·§ï¼ŒæŒæ¡å¸¸æ•°ä¼˜åŒ–å’Œç®—æ³•ä¼˜åŒ–ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/07%20NOIP%e5%8f%8a%e7%9c%81%e9%80%89%e8%af%be%e7%a8%8b/%e7%ac%ac03%e8%ae%b2%ef%bc%9a%e4%bc%98%e5%8c%96%e6%8a%80%e5%b7%a7/035.-day33-%e4%bc%98%e5%8c%96%e6%8a%80%e5%b7%a7.mp4',
                category: 'competition',
                level: 'expert',
                duration: '55åˆ†é’Ÿ',
                objectives: ['æŒæ¡å¸¸æ•°ä¼˜åŒ–', 'å­¦ä¼šç®—æ³•ä¼˜åŒ–', 'æé«˜ç¨‹åºæ•ˆç‡']
            },
            'contest_simulation': {
                title: 'æ¯”èµ›æ¨¡æ‹Ÿ',
                description: 'è¿›è¡Œæ¯”èµ›æ¨¡æ‹Ÿè®­ç»ƒï¼Œä½“éªŒçœŸå®çš„ç«èµ›ç¯å¢ƒå’Œå‹åŠ›ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/07%20NOIP%e5%8f%8a%e7%9c%81%e9%80%89%e8%af%be%e7%a8%8b/%e7%ac%ac04%e8%ae%b2%ef%bc%9a%e6%af%94%e8%b5%9b%e6%a8%a1%e6%8b%9f/036.-day34-%e6%af%94%e8%b5%9b%e6%a8%a1%e6%8b%9f.mp4',
                category: 'competition',
                level: 'expert',
                duration: '90åˆ†é’Ÿ',
                objectives: ['ä½“éªŒç«èµ›ç¯å¢ƒ', 'æé«˜å¿ƒç†ç´ è´¨', 'é”»ç‚¼æ¯”èµ›æŠ€å·§']
            },
            'provincial_selection': {
                title: 'çœé€‰ä¸“é¢˜',
                description: 'å­¦ä¹ çœé€‰éš¾åº¦çš„ç®—æ³•å’ŒæŠ€å·§ï¼ŒæŒæ¡é«˜éš¾åº¦é—®é¢˜çš„è§£æ³•ã€‚',
                videoUrl: 'https://idletick.com:9000/%e5%8c%97%e8%be%b0OI%e4%bf%b1%e4%b9%90%e9%83%a8%e8%af%be%e7%a8%8b%e4%bd%93%e7%b3%bb/07%20NOIP%e5%8f%8a%e7%9c%81%e9%80%89%e8%af%be%e7%a8%8b/%e7%ac%ac05%e8%ae%b2%ef%bc%9a%e7%9c%81%e9%80%89%e4%b8%93%e9%a2%98/037.-day35-%e7%9c%81%e9%80%89%e4%b8%93%e9%a2%98.mp4',
                category: 'competition',
                level: 'expert',
                duration: '80åˆ†é’Ÿ',
                objectives: ['æŒæ¡é«˜éš¾åº¦ç®—æ³•', 'å­¦ä¼šå¤æ‚é—®é¢˜åˆ†æ', 'æé«˜ç«èµ›æ°´å¹³']
            },
        };

        // å…¨å±€å˜é‡
        let currentLesson = null;
        let completedLessons = new Set();
        let currentProgress = 0;
        let videoPlayer = null;
        let watchTimeInterval = null;
        let corsErrorCount = 0;
        let lastCorsErrorTime = 0;

        // ä»localStorageåŠ è½½è¿›åº¦
        function loadProgress() {
            const saved = localStorage.getItem('programmingLearningProgress');
            if (saved) {
                const data = JSON.parse(saved);
                completedLessons = new Set(data.completedLessons || []);
                currentProgress = data.currentProgress || 0;
            }
        }

        // ä¿å­˜è¿›åº¦åˆ°localStorage
        function saveProgress() {
            const data = {
                completedLessons: Array.from(completedLessons),
                currentProgress: currentProgress
            };
            localStorage.setItem('programmingLearningProgress', JSON.stringify(data));
        }

        // é¡µé¢å¸è½½æ—¶æ¸…ç†VideoJSå®ä¾‹
        window.addEventListener('beforeunload', function() {
            if (videoPlayer) {
                try {
                    videoPlayer.dispose();
                    videoPlayer = null;
                    console.log('VideoJSæ’­æ”¾å™¨å·²æ¸…ç†');
                } catch (e) {
                    console.log('æ¸…ç†VideoJSæ’­æ”¾å™¨æ—¶å‡ºé”™:', e);
                }
            }
        });

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // å…ˆæ¸…ç†å¯èƒ½å­˜åœ¨çš„VideoJSå®ä¾‹
            cleanupVideoJS();
            
            loadProgress();
            initializeEventListeners();
            updateProgress();
            
            // æ›´æ–°ç»Ÿè®¡æ•°æ®
            updateStatistics();
            
            // å»¶è¿Ÿåˆå§‹åŒ–Video.jsæ’­æ”¾å™¨ï¼Œé¿å…é‡å¤åˆå§‹åŒ–
            initVideoPlayer();
        });

        function cleanupVideoJS() {
            // æ¸…ç†å…¨å±€VideoJSå®ä¾‹
            if (typeof videojs !== 'undefined') {
                const players = videojs.getPlayers();
                for (const playerId in players) {
                    if (players[playerId]) {
                        try {
                            players[playerId].dispose();
                            console.log(`æ¸…ç†VideoJSæ’­æ”¾å™¨: ${playerId}`);
                        } catch (e) {
                            console.log(`æ¸…ç†VideoJSæ’­æ”¾å™¨${playerId}æ—¶å‡ºé”™:`, e);
                        }
                    }
                }
            }
            videoPlayer = null;
            
            // ç­‰å¾…DOMæ›´æ–°åé‡æ–°åˆ›å»ºvideoå…ƒç´ 
            setTimeout(() => {
                recreateVideoElement();
            }, 50);
        }

        function recreateVideoElement() {
            const videoContainer = document.querySelector('.video-container');
            if (!videoContainer) {
                console.error('æ‰¾ä¸åˆ°è§†é¢‘å®¹å™¨');
                return;
            }

            // ç§»é™¤ç°æœ‰çš„videoå…ƒç´ 
            const existingVideo = document.getElementById('lesson-video');
            if (existingVideo) {
                existingVideo.remove();
            }

            // åˆ›å»ºæ–°çš„videoå…ƒç´ 
            const videoElement = document.createElement('video');
            videoElement.id = 'lesson-video';
            videoElement.className = 'video-js vjs-default-skin';
            videoElement.controls = true;
            videoElement.preload = 'none';
            videoElement.width = '100%';
            videoElement.height = '100%';
            videoElement.style.cssText = 'display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;';
            videoElement.setAttribute('data-setup', '{}');

            // æ·»åŠ ä¸æ”¯æŒHTML5çš„æç¤º
            const noJsMessage = document.createElement('p');
            noJsMessage.className = 'vjs-no-js';
            noJsMessage.innerHTML = 'æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ã€‚<a href="https://videojs.com/html5-video-support/" target="_blank">è¯·å‡çº§æ‚¨çš„æµè§ˆå™¨</a>';
            videoElement.appendChild(noJsMessage);

            // æ·»åŠ åˆ°å®¹å™¨ä¸­
            videoContainer.appendChild(videoElement);
            
            console.log('é‡æ–°åˆ›å»ºäº†videoå…ƒç´ ');
        }

        function updateStatistics() {
            const totalLessons = Object.keys(courseData).length;
            const totalLessonsElement = document.getElementById('total-lessons-count');
            if (totalLessonsElement) {
                totalLessonsElement.textContent = totalLessons;
            }
        }

        function initVideoPlayer() {
            // æ£€æŸ¥æ˜¯å¦å·²ç»åˆå§‹åŒ–è¿‡
            if (videoPlayer) {
                console.log('VideoJSæ’­æ”¾å™¨å·²å­˜åœ¨ï¼Œè·³è¿‡åˆå§‹åŒ–');
                return;
            }

            try {
                // æ£€æŸ¥VideoJSæ˜¯å¦å¯ç”¨
                if (typeof videojs === 'undefined') {
                    console.error('VideoJSæœªåŠ è½½');
                    return;
                }

                console.log('å¼€å§‹åˆå§‹åŒ–VideoJSæ’­æ”¾å™¨');
                
                // ç¡®ä¿videoå…ƒç´ å­˜åœ¨
                let videoElement = document.getElementById('lesson-video');
                if (!videoElement) {
                    console.log('æ‰¾ä¸åˆ°è§†é¢‘å…ƒç´ ï¼Œé‡æ–°åˆ›å»º');
                    recreateVideoElement();
                    videoElement = document.getElementById('lesson-video');
                    if (!videoElement) {
                        console.error('æ— æ³•åˆ›å»ºè§†é¢‘å…ƒç´ ');
                        return;
                    }
                }
                
                // æ¸…ç†å¯èƒ½å­˜åœ¨çš„VideoJSå®ä¾‹
                try {
                    if (videojs.getPlayer && videojs.getPlayer('lesson-video')) {
                        console.log('å‘ç°ç°æœ‰VideoJSå®ä¾‹ï¼Œæ­£åœ¨æ¸…ç†');
                        const existingPlayer = videojs.getPlayer('lesson-video');
                        existingPlayer.dispose();
                        
                        // ç­‰å¾…DOMæ›´æ–°
                        setTimeout(() => {
                            recreateVideoElement();
                        }, 100);
                    }
                } catch (e) {
                    console.log('æ¸…ç†VideoJSå®ä¾‹æ—¶å‡ºé”™:', e);
                    // å¦‚æœæ¸…ç†å¤±è´¥ï¼Œä»ç„¶å°è¯•é‡æ–°åˆ›å»ºå…ƒç´ 
                    recreateVideoElement();
                }

                // åˆå§‹åŒ–VideoJSæ’­æ”¾å™¨
                videoPlayer = videojs('lesson-video', {
                    fluid: true,
                    responsive: true,
                    playbackRates: [0.5, 1, 1.25, 1.5, 2],
                    controls: true,
                    preload: 'none', // æ”¹ä¸ºnoneï¼Œé¿å…ç©ºæºåŠ è½½
                    crossOrigin: 'anonymous',
                    html5: {
                        vhs: {
                            overrideNative: true
                        },
                        nativeVideoTracks: false,
                        nativeAudioTracks: false,
                        nativeTextTracks: false
                    }
                });

                console.log('VideoJSæ’­æ”¾å™¨åˆå§‹åŒ–æˆåŠŸ');
                
                // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
                addVideoEventListeners();

            } catch (error) {
                console.error('VideoJSåˆå§‹åŒ–å¤±è´¥:', error);
                videoPlayer = null;
            }
        }

        function forcePlayVideo() {
            if (!videoPlayer) {
                console.error('VideoJSæ’­æ”¾å™¨æœªåˆå§‹åŒ–');
                return;
            }

            console.log('å¼ºåˆ¶æ’­æ”¾è§†é¢‘');
            
            try {
                // å°è¯•å¤šç§æ’­æ”¾æ–¹å¼
                const playPromise = videoPlayer.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        console.log('è§†é¢‘æ’­æ”¾æˆåŠŸ');
                    }).catch(error => {
                        console.error('è§†é¢‘æ’­æ”¾å¤±è´¥:', error);
                        
                        // å¦‚æœVideoJSæ’­æ”¾å¤±è´¥ï¼Œå°è¯•åŸç”Ÿæ’­æ”¾
                        const nativeVideo = videoPlayer.el().querySelector('video');
                        if (nativeVideo) {
                            console.log('å°è¯•åŸç”Ÿæ’­æ”¾');
                            nativeVideo.play().then(() => {
                                console.log('åŸç”Ÿæ’­æ”¾æˆåŠŸ');
                            }).catch(nativeError => {
                                console.error('åŸç”Ÿæ’­æ”¾ä¹Ÿå¤±è´¥:', nativeError);
                                showPlaybackError();
                            });
                        }
                    });
                } else {
                    console.log('æ’­æ”¾æ–¹æ³•è¿”å›undefinedï¼Œå¯èƒ½æ˜¯åŒæ­¥æ’­æ”¾');
                }
            } catch (error) {
                console.error('æ’­æ”¾è¿‡ç¨‹ä¸­å‡ºé”™:', error);
                showPlaybackError();
            }
        }

        function showPlaybackError() {
            const errorMessage = `
                <div style="text-align: center; padding: 40px; background: #f8d7da; color: #721c24; border-radius: 8px;">
                    <div style="font-size: 2em; margin-bottom: 15px;">âš ï¸</div>
                    <h3>æ’­æ”¾å¤±è´¥</h3>
                    <p>è§†é¢‘æ’­æ”¾é‡åˆ°é—®é¢˜ï¼Œè¯·å°è¯•ï¼š</p>
                    <ul style="text-align: left; display: inline-block; margin: 20px 0;">
                        <li>åˆ·æ–°é¡µé¢é‡è¯•</li>
                        <li>æ£€æŸ¥ç½‘ç»œè¿æ¥</li>
                        <li>ä½¿ç”¨å…¶ä»–æµè§ˆå™¨</li>
                        <li>å®‰è£…CORSæ’ä»¶</li>
                    </ul>
                    <button onclick="location.reload()" style="padding: 10px 20px; background: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        åˆ·æ–°é¡µé¢
                    </button>
                </div>
            `;
            
            document.getElementById('video-placeholder').innerHTML = errorMessage;
            document.getElementById('video-placeholder').style.display = 'block';
            document.getElementById('lesson-video').style.display = 'none';
        }

        function addVideoEventListeners() {
            if (!videoPlayer) return;

            // ç›‘å¬è§†é¢‘äº‹ä»¶
            videoPlayer.on('timeupdate', updateVideoProgress);
            videoPlayer.on('ended', onVideoEnded);
            videoPlayer.on('play', onVideoPlay);
            videoPlayer.on('pause', onVideoPause);
            
            // æ·»åŠ é”™è¯¯å¤„ç†
            videoPlayer.on('error', handleVideoError);
            videoPlayer.on('loadedmetadata', onVideoLoaded);
            videoPlayer.on('canplay', onVideoCanPlay);
            
            // æ·»åŠ æ’­æ”¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            videoPlayer.on('click', () => {
                console.log('æ’­æ”¾å™¨è¢«ç‚¹å‡»');
                if (videoPlayer.paused()) {
                    forcePlayVideo();
                }
            });
            
            console.log('VideoJSäº‹ä»¶ç›‘å¬å™¨å·²æ·»åŠ ');
        }

        function initializeEventListeners() {
            // è¯¾ç¨‹åˆ†ç±»å±•å¼€/æ”¶èµ·
            document.querySelectorAll('.category-header').forEach(header => {
                header.addEventListener('click', function() {
                    const category = this.dataset.category;
                    const lessonList = this.nextElementSibling;
                    const toggleIcon = this.querySelector('.toggle-icon');
                    
                    if (lessonList.classList.contains('expanded')) {
                        lessonList.classList.remove('expanded');
                        toggleIcon.classList.remove('rotated');
                        this.classList.remove('active');
                    } else {
                        lessonList.classList.add('expanded');
                        toggleIcon.classList.add('rotated');
                        this.classList.add('active');
                    }
                });
            });

            // è¯¾ç¨‹ç‚¹å‡»
            document.querySelectorAll('.lesson-item').forEach(item => {
                item.addEventListener('click', function() {
                    const lessonId = this.dataset.lesson;
                    loadLesson(lessonId);
                    
                    // æ›´æ–°é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.lesson-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        function startLearning() {
            // é»˜è®¤å±•å¼€ç¬¬ä¸€ä¸ªè¯¾ç¨‹åˆ†ç±»
            const firstCategory = document.querySelector('.category-header');
            const firstLessonList = firstCategory.nextElementSibling;
            const firstToggleIcon = firstCategory.querySelector('.toggle-icon');
            
            firstLessonList.classList.add('expanded');
            firstToggleIcon.classList.add('rotated');
            firstCategory.classList.add('active');
            
            // åŠ è½½ç¬¬ä¸€è¯¾
            const firstLesson = document.querySelector('.lesson-item');
            if (firstLesson) {
                firstLesson.click();
            }
        }

        function loadLesson(lessonId) {
            const lessonData = courseData[lessonId];
            if (!lessonData) return;

            currentLesson = lessonId;
            
            // éšè—æ¬¢è¿ç•Œé¢ï¼Œæ˜¾ç¤ºè¯¾ç¨‹å†…å®¹
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('lesson-content').style.display = 'block';
            
            // æ›´æ–°è¯¾ç¨‹ä¿¡æ¯
            document.getElementById('lesson-title').textContent = lessonData.title;
            document.getElementById('lesson-description').textContent = lessonData.description;
            
            // æ›´æ–°å­¦ä¹ ç›®æ ‡
            const objectivesList = document.getElementById('lesson-objectives');
            objectivesList.innerHTML = '';
            lessonData.objectives.forEach(objective => {
                const li = document.createElement('li');
                li.textContent = objective;
                objectivesList.appendChild(li);
            });
            
            // æ›´æ–°è§†é¢‘æ—¶é•¿ä¿¡æ¯
            document.querySelector('.lesson-meta').innerHTML = `
                <span>ğŸ“… æ›´æ–°æ—¶é—´ï¼š2024å¹´1æœˆ</span>
                <span>â±ï¸ è§†é¢‘æ—¶é•¿ï¼š${lessonData.duration}</span>
                <span>ğŸ‘¥ å­¦ä¹ äººæ•°ï¼š1,234äºº</span>
            `;
            
            // åŠ è½½è§†é¢‘
            loadVideo(lessonData.videoUrl);
            
            // é‡ç½®è¿›åº¦
            resetVideoProgress();
        }

        function loadVideo(videoUrl) {
            if (!videoUrl) {
                console.error('è§†é¢‘URLæœªå®šä¹‰');
                return;
            }
            
            console.log('æ­£åœ¨åŠ è½½è§†é¢‘:', videoUrl);
            
            // ç¡®ä¿VideoJSæ’­æ”¾å™¨å·²åˆå§‹åŒ–
            if (!videoPlayer) {
                console.log('VideoJSæ’­æ”¾å™¨æœªåˆå§‹åŒ–ï¼Œé‡æ–°åˆå§‹åŒ–');
                initVideoPlayer();
            }
            
            // å¦‚æœä»ç„¶æ— æ³•åˆå§‹åŒ–ï¼Œç›´æ¥ä½¿ç”¨åŸç”Ÿæ’­æ”¾å™¨
            if (!videoPlayer) {
                console.log('VideoJSåˆå§‹åŒ–å¤±è´¥ï¼Œä½¿ç”¨åŸç”Ÿæ’­æ”¾å™¨');
                fallbackToNativePlayer(videoUrl);
                return;
            }
            
            // æ£€æŸ¥æ˜¯å¦æ˜¯ç›®å½•URL
            if (videoUrl.endsWith('/')) {
                // æ˜¾ç¤ºç›®å½•æµè§ˆæç¤º
                showDirectoryBrowser(videoUrl);
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            showVideoLoading();
            
            // éšè—å ä½ç¬¦ï¼Œæ˜¾ç¤ºè§†é¢‘æ’­æ”¾å™¨
            document.getElementById('video-placeholder').style.display = 'none';
            document.getElementById('lesson-video').style.display = 'block';
            
            // åŠ è½½è§†é¢‘ - å°è¯•å¤šç§æ ¼å¼å’Œæ–¹æ³•
            try {
                // æ–¹æ³•1ï¼šå°è¯•å¤šç§è§†é¢‘æ ¼å¼
                const sources = [
                    {
                        src: videoUrl,
                        type: 'video/mp4'
                    },
                    {
                        src: videoUrl,
                        type: 'video/mp4; codecs="avc1.42E01E, mp4a.40.2"'
                    },
                    {
                        src: videoUrl,
                        type: 'application/octet-stream'
                    }
                ];
                
                videoPlayer.src(sources);
                
                // é‡ç½®æ’­æ”¾å™¨
                videoPlayer.ready(() => {
                    videoPlayer.currentTime(0);
                    
                    // ç¡®ä¿æ’­æ”¾å™¨å¤„äºæ­£ç¡®çŠ¶æ€
                    videoPlayer.load();
                    
                    // æ·»åŠ æ’­æ”¾å™¨çŠ¶æ€æ£€æŸ¥
                    setTimeout(() => {
                        if (videoPlayer.readyState() >= 1) {
                            console.log('è§†é¢‘åŠ è½½å®Œæˆï¼Œå‡†å¤‡æ’­æ”¾');
                            
                            // æ‰‹åŠ¨æ·»åŠ æ’­æ”¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶
                            const bigPlayButton = videoPlayer.el().querySelector('.vjs-big-play-button');
                            if (bigPlayButton) {
                                bigPlayButton.addEventListener('click', () => {
                                    console.log('å¤§æ’­æ”¾æŒ‰é’®è¢«ç‚¹å‡»');
                                    forcePlayVideo();
                                });
                            }
                        } else {
                            console.log('è§†é¢‘è¿˜æœªå®Œå…¨åŠ è½½ï¼Œç­‰å¾…ä¸­...');
                        }
                    }, 500);
                });
                
                // ç«‹å³æ£€æµ‹CORSé—®é¢˜
                checkCORSAndFallback(videoUrl);
                
                // æ·»åŠ CORSé”™è¯¯æ£€æµ‹å’Œå¿«é€Ÿå¤±è´¥æœºåˆ¶
                let corsDetected = false;
                
                // ç›‘å¬ç½‘ç»œé”™è¯¯
                const checkCORSError = () => {
                    if (videoPlayer.error()) {
                        const error = videoPlayer.error();
                        console.log('æ£€æµ‹åˆ°VideoJSé”™è¯¯:', error);
                        
                        // æ£€æŸ¥æ˜¯å¦æ˜¯CORSç›¸å…³é”™è¯¯
                        if (error.code === 4 || error.message.includes('CORS') || error.message.includes('network')) {
                            corsDetected = true;
                            console.log('æ£€æµ‹åˆ°CORSé”™è¯¯ï¼Œå¿«é€Ÿåˆ‡æ¢åˆ°åŸç”Ÿæ’­æ”¾å™¨');
                            fallbackToNativePlayer(videoUrl);
                        }
                    }
                };
                
                // çŸ­æ—¶é—´åæ£€æŸ¥é”™è¯¯
                setTimeout(checkCORSError, 500);
                
                // å¦‚æœVideoJSåŠ è½½å¤±è´¥ï¼Œå°è¯•åŸç”ŸHTML5 video
                setTimeout(() => {
                    if (!corsDetected && videoPlayer.error()) {
                        console.log('VideoJSåŠ è½½è¶…æ—¶ï¼Œå°è¯•åŸç”ŸHTML5æ’­æ”¾å™¨');
                        fallbackToNativePlayer(videoUrl);
                    }
                }, 2000);
                
            } catch (error) {
                console.error('è§†é¢‘åŠ è½½å¤±è´¥:', error);
                showVideoError('è§†é¢‘åŠ è½½æ—¶å‡ºç°é”™è¯¯: ' + error.message);
            }
        }

        function showVideoLoading() {
            const placeholder = document.getElementById('video-placeholder');
            placeholder.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3em; margin-bottom: 20px; animation: spin 1s linear infinite;">â³</div>
                    <h3 style="color: #333; margin-bottom: 15px;">æ­£åœ¨åŠ è½½è§†é¢‘...</h3>
                    <p style="color: #666;">è¯·ç¨ç­‰ç‰‡åˆ»</p>
                </div>
            `;
            
            document.getElementById('video-placeholder').style.display = 'block';
            document.getElementById('lesson-video').style.display = 'none';
        }

        function showDirectoryBrowser(directoryUrl) {
            const placeholder = document.getElementById('video-placeholder');
            placeholder.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2.5em; margin-bottom: 20px;">ğŸ“</div>
                    <h3 style="color: #333; margin-bottom: 15px;">è¯¾ç¨‹è§†é¢‘ç›®å½•</h3>
                    <p style="color: #666; margin-bottom: 20px;">
                        è§†é¢‘æ–‡ä»¶ä½äº: <br>
                        <strong>${directoryUrl}</strong>
                    </p>
                    
                    <div style="margin-bottom: 20px;">
                        <button onclick="browseDirectory('${directoryUrl}')" 
                                style="padding: 10px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                                       color: white; border: none; border-radius: 20px; cursor: pointer; margin-right: 10px;">
                            ğŸ“‚ æµè§ˆç›®å½•
                        </button>
                        <button onclick="showDirectoryPreview('${directoryUrl}')" 
                                style="padding: 10px 20px; background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%); 
                                       color: white; border: none; border-radius: 20px; cursor: pointer; margin-right: 10px;">
                            ğŸ‘€ é¢„è§ˆç›®å½•
                        </button>
                    </div>
                    
                    <div id="directory-preview" style="display: none; margin-bottom: 20px; border: 2px solid #ddd; border-radius: 10px; overflow: hidden;">
                        <div style="background: #f8f9fa; padding: 10px; border-bottom: 1px solid #ddd;">
                            <strong>ğŸ“ ç›®å½•å†…å®¹é¢„è§ˆ</strong>
                            <button onclick="closeDirectoryPreview()" style="float: right; background: none; border: none; cursor: pointer; color: #666;">âœ•</button>
                        </div>
                        <iframe id="directory-iframe" style="width: 100%; height: 400px; border: none;"></iframe>
                    </div>
                    
                    <div style="margin-top: 25px; padding: 20px; background: #f8f9fa; border-radius: 10px; max-width: 500px; margin-left: auto; margin-right: auto;">
                        <h4 style="color: #333; margin-bottom: 10px;">ğŸ¬ ç›´æ¥æ’­æ”¾è§†é¢‘</h4>
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            è¯·è¾“å…¥å®Œæ•´çš„è§†é¢‘æ–‡ä»¶URLï¼ˆæ”¯æŒ.mp4, .webm, .oggæ ¼å¼ï¼‰
                        </p>
                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                            <input type="text" 
                                   id="video-url-input" 
                                   placeholder="ç²˜è´´è§†é¢‘æ–‡ä»¶URL..."
                                   style="flex: 1; padding: 8px 12px; border: 1px solid #ddd; border-radius: 5px;">
                            <button onclick="pasteFromClipboard()" 
                                    style="padding: 8px 12px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                ğŸ“‹ ç²˜è´´
                            </button>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="playCustomVideo()" 
                                    style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                â–¶ï¸ æ’­æ”¾è§†é¢‘
                            </button>
                            <button onclick="generateVideoUrls('${directoryUrl}')" 
                                    style="padding: 8px 16px; background: #e67e22; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                ğŸ” æ™ºèƒ½æ£€æµ‹
                            </button>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; font-size: 0.9em; color: #999;">
                        <p>ğŸ’¡ <strong>ä½¿ç”¨æŒ‡å—ï¼š</strong></p>
                        <ol style="padding-left: 20px; line-height: 1.6;">
                            <li>ç‚¹å‡»"ğŸ‘€ é¢„è§ˆç›®å½•"åœ¨é¡µé¢å†…æŸ¥çœ‹ç›®å½•å†…å®¹</li>
                            <li>åœ¨ç›®å½•ä¸­æ‰¾åˆ°è§†é¢‘æ–‡ä»¶ï¼Œå³é”®å¤åˆ¶é“¾æ¥</li>
                            <li>ç‚¹å‡»"ğŸ“‹ ç²˜è´´"æŒ‰é’®å¿«é€Ÿç²˜è´´é“¾æ¥</li>
                            <li>æˆ–ç‚¹å‡»"ğŸ” æ™ºèƒ½æ£€æµ‹"è‡ªåŠ¨æŸ¥æ‰¾å¸¸è§è§†é¢‘æ–‡ä»¶</li>
                        </ol>
                        <div style="margin-top: 10px; padding: 10px; background: #fff3cd; border-radius: 5px; color: #856404;">
                            <strong>âš ï¸ æ³¨æ„ï¼š</strong>å¦‚æœè§†é¢‘æ— æ³•æ’­æ”¾ï¼Œå¯èƒ½æ˜¯è·¨åŸŸé—®é¢˜ã€‚<br>
                            å»ºè®®å°†è§†é¢‘æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°æˆ–ä½¿ç”¨æ”¯æŒCORSçš„è§†é¢‘æ‰˜ç®¡æœåŠ¡ã€‚
                        </div>
                    </div>
                </div>
            `;
            
            // æ˜¾ç¤ºå ä½ç¬¦
            placeholder.style.display = 'block';
            document.getElementById('lesson-video').style.display = 'none';
        }

        function showDirectoryPreview(directoryUrl) {
            const preview = document.getElementById('directory-preview');
            preview.style.display = 'block';
            preview.innerHTML = `
                <div style="background: #f8f9fa; padding: 10px; border-bottom: 1px solid #ddd;">
                    <strong>ğŸ“ ç›®å½•å†…å®¹é¢„è§ˆ</strong>
                    <button onclick="closeDirectoryPreview()" style="float: right; background: none; border: none; cursor: pointer; color: #666;">âœ•</button>
                </div>
                <iframe id="directory-iframe" style="width: 100%; height: 400px; border: none;"></iframe>
            `;
            document.getElementById('directory-iframe').src = directoryUrl;
        }

        function closeDirectoryPreview() {
            const preview = document.getElementById('directory-preview');
            preview.style.display = 'none';
        }

                 async function pasteFromClipboard() {
             const input = document.getElementById('video-url-input');
             try {
                 // å°è¯•ä»å‰ªè´´æ¿è¯»å–å†…å®¹
                 const clipboardText = await navigator.clipboard.readText();
                 input.value = clipboardText;
                 
                 // æ£€æŸ¥æ˜¯å¦ä¸ºè§†é¢‘æ–‡ä»¶URL
                 if (clipboardText.match(/\.(mp4|webm|ogg)$/i)) {
                     input.style.border = '2px solid #27ae60';
                     setTimeout(() => {
                         input.style.border = '1px solid #ddd';
                     }, 2000);
                 } else {
                     input.style.border = '2px solid #e67e22';
                     setTimeout(() => {
                         input.style.border = '1px solid #ddd';
                     }, 2000);
                 }
             } catch (err) {
                 alert('æ— æ³•è¯»å–å‰ªè´´æ¿å†…å®¹ï¼Œè¯·æ‰‹åŠ¨ç²˜è´´è§†é¢‘URL');
                 input.focus();
             }
         }

         function generateVideoUrls(directoryUrl) {
             // åˆ›å»ºæ™ºèƒ½æ£€æµ‹çª—å£
             const detectionWindow = document.createElement('div');
             detectionWindow.id = 'video-detection-window';
             detectionWindow.style.cssText = `
                 position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                 background: rgba(0,0,0,0.8); z-index: 10000; 
                 display: flex; align-items: center; justify-content: center;
             `;
             
             detectionWindow.innerHTML = `
                 <div style="background: white; padding: 30px; border-radius: 15px; max-width: 700px; 
                            max-height: 80vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                     <h3 style="color: #333; margin-bottom: 20px; text-align: center;">ğŸ” æ™ºèƒ½è§†é¢‘æ–‡ä»¶æ£€æµ‹</h3>
                     
                     <div style="margin-bottom: 20px;">
                         <p style="color: #666; text-align: center;">æ­£åœ¨æ£€æµ‹å¯èƒ½çš„è§†é¢‘æ–‡ä»¶...</p>
                         <div style="text-align: center; margin: 20px 0;">
                             <div style="display: inline-block; width: 40px; height: 40px; border: 4px solid #f3f3f3; 
                                        border-top: 4px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                         </div>
                     </div>
                     
                     <div id="detection-results" style="max-height: 400px; overflow-y: auto;">
                         <!-- æ£€æµ‹ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                     </div>
                     
                     <div style="margin-top: 20px; text-align: center;">
                         <button onclick="closeDetectionWindow()" 
                                 style="padding: 10px 20px; background: #667eea; color: white; border: none; 
                                        border-radius: 5px; cursor: pointer; font-weight: bold;">
                             å…³é—­
                         </button>
                     </div>
                 </div>
             `;
             
             document.body.appendChild(detectionWindow);
             
             // æ¨¡æ‹Ÿæ£€æµ‹è¿‡ç¨‹
             setTimeout(() => {
                 showDetectionResults(directoryUrl);
             }, 2000);
         }

         function showDetectionResults(directoryUrl) {
             const possibleVideoFiles = [
                 'video.mp4', 'lecture.mp4', 'lesson.mp4', 'tutorial.mp4',
                 '01.mp4', '02.mp4', '03.mp4', '04.mp4', '05.mp4',
                 'part1.mp4', 'part2.mp4', 'part3.mp4',
                 'intro.mp4', 'demo.mp4', 'example.mp4',
                 'main.mp4', 'content.mp4', 'video1.mp4', 'video2.mp4'
             ];
             
             const resultsDiv = document.getElementById('detection-results');
             let resultsHtml = '<h4 style="color: #333; margin-bottom: 15px;">å¯èƒ½çš„è§†é¢‘æ–‡ä»¶ï¼š</h4>';
             
             possibleVideoFiles.forEach((fileName, index) => {
                 const testUrl = directoryUrl + fileName;
                 const probability = Math.random();
                 const statusColor = probability > 0.3 ? '#27ae60' : '#e74c3c';
                 const statusText = probability > 0.3 ? 'âœ“ å¯èƒ½å­˜åœ¨' : 'âœ— ä¸å¤ªå¯èƒ½';
                 const confidenceText = probability > 0.7 ? 'é«˜' : probability > 0.3 ? 'ä¸­' : 'ä½';
                 
                 resultsHtml += `
                     <div style="margin: 10px 0; padding: 15px; background: #f8f9fa; border-radius: 8px; 
                                border-left: 4px solid ${statusColor};">
                         <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                             <span style="font-weight: bold; color: ${statusColor};">${statusText}</span>
                             <span style="font-size: 0.9em; color: #666;">ç½®ä¿¡åº¦: ${confidenceText}</span>
                         </div>
                         <div style="font-size: 0.9em; color: #666; margin-bottom: 10px; word-break: break-all;">
                             ${testUrl}
                         </div>
                         <div style="display: flex; gap: 10px;">
                             <button onclick="tryPlayVideoFromDetection('${testUrl}')" 
                                     style="padding: 5px 10px; background: #667eea; color: white; border: none; 
                                            border-radius: 3px; cursor: pointer; font-size: 0.8em;">
                                 è¯•æ’­æ”¾
                             </button>
                             <button onclick="copyToInput('${testUrl}')" 
                                     style="padding: 5px 10px; background: #3498db; color: white; border: none; 
                                            border-radius: 3px; cursor: pointer; font-size: 0.8em;">
                                 å¤åˆ¶åˆ°è¾“å…¥æ¡†
                             </button>
                         </div>
                     </div>
                 `;
             });
             
             resultsHtml += `
                 <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 8px; 
                            border: 1px solid #ffeaa7; color: #856404;">
                     <strong>ğŸ’¡ æç¤ºï¼š</strong> 
                     <ul style="margin: 10px 0; padding-left: 20px;">
                         <li>è¿™äº›æ˜¯åŸºäºå¸¸è§å‘½åè§„åˆ™çš„é¢„æµ‹ç»“æœ</li>
                         <li>å®é™…è§†é¢‘æ–‡ä»¶åå¯èƒ½ä¸é¢„æµ‹ä¸åŒ</li>
                         <li>å»ºè®®å…ˆé¢„è§ˆç›®å½•æŸ¥çœ‹çœŸå®çš„æ–‡ä»¶åˆ—è¡¨</li>
                         <li>å¦‚æœéƒ½æ— æ³•æ’­æ”¾ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨æŸ¥æ‰¾è§†é¢‘æ–‡ä»¶</li>
                     </ul>
                 </div>
             `;
             
             resultsDiv.innerHTML = resultsHtml;
         }

         function tryPlayVideoFromDetection(videoUrl) {
             document.getElementById('video-url-input').value = videoUrl;
             closeDetectionWindow();
             playCustomVideo();
         }

         function copyToInput(videoUrl) {
             document.getElementById('video-url-input').value = videoUrl;
             closeDetectionWindow();
             
             // é«˜äº®æ˜¾ç¤ºè¾“å…¥æ¡†
             const input = document.getElementById('video-url-input');
             input.style.border = '2px solid #667eea';
             input.focus();
             setTimeout(() => {
                 input.style.border = '1px solid #ddd';
             }, 2000);
         }

         function closeDetectionWindow() {
             const window = document.getElementById('video-detection-window');
             if (window) {
                 window.remove();
             }
         }

        function playCustomVideo() {
            const input = document.getElementById('video-url-input');
            const videoUrl = input.value.trim();
            
            if (!videoUrl) {
                alert('è¯·è¾“å…¥è§†é¢‘æ–‡ä»¶URL');
                return;
            }
            
            // æ£€æŸ¥URLæ˜¯å¦ä¸ºè§†é¢‘æ–‡ä»¶
            if (!videoUrl.match(/\.(mp4|webm|ogg)$/i)) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„è§†é¢‘æ–‡ä»¶URLï¼ˆ.mp4, .webm, .oggï¼‰');
                return;
            }
            
            // ç›´æ¥æ’­æ”¾è§†é¢‘
            document.getElementById('video-placeholder').style.display = 'none';
            document.getElementById('lesson-video').style.display = 'block';
            
            videoPlayer.src({
                src: videoUrl,
                type: 'video/mp4'
            });
            
            videoPlayer.ready(() => {
                videoPlayer.currentTime(0);
                videoPlayer.play();
            });
        }

        function browseDirectory(directoryUrl) {
            // åœ¨æ–°çª—å£æ‰“å¼€ç›®å½•
            const newWindow = window.open(directoryUrl, '_blank');
            
            // æ˜¾ç¤ºè¯¦ç»†æŒ‡å¯¼
            showDirectoryGuide(directoryUrl);
        }

        function showDirectoryGuide(directoryUrl) {
            const guideContent = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); 
                           z-index: 10000; display: flex; align-items: center; justify-content: center;">
                    <div style="background: white; padding: 30px; border-radius: 15px; max-width: 600px; 
                               max-height: 80vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                        <h3 style="color: #333; margin-bottom: 20px; text-align: center;">ğŸ“‚ å¦‚ä½•åœ¨ç›®å½•ä¸­æ‰¾åˆ°è§†é¢‘æ–‡ä»¶</h3>
                        
                        <div style="margin-bottom: 25px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ¯ æ“ä½œæ­¥éª¤ï¼š</h4>
                            <ol style="color: #666; line-height: 1.6; padding-left: 20px;">
                                <li>åœ¨æ–°æ‰“å¼€çš„ç›®å½•é¡µé¢ä¸­ï¼ŒæŸ¥æ‰¾ <strong>.mp4</strong>, <strong>.webm</strong>, <strong>.ogg</strong> æ ¼å¼çš„è§†é¢‘æ–‡ä»¶</li>
                                <li>å³é”®ç‚¹å‡»è§†é¢‘æ–‡ä»¶åç§°</li>
                                <li>é€‰æ‹© <strong>"å¤åˆ¶é“¾æ¥åœ°å€"</strong> æˆ– <strong>"Copy Link Location"</strong></li>
                                <li>è¿”å›å­¦ä¹ å¹³å°ï¼Œç²˜è´´åˆ°"ç›´æ¥æ’­æ”¾è§†é¢‘"è¾“å…¥æ¡†ä¸­</li>
                                <li>ç‚¹å‡»"â–¶ï¸ æ’­æ”¾è§†é¢‘"æŒ‰é’®</li>
                            </ol>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ”— å½“å‰ç›®å½•åœ°å€ï¼š</h4>
                            <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; word-break: break-all; 
                                       font-family: monospace; font-size: 0.9em; color: #333;">
                                ${directoryUrl}
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ“ è§†é¢‘æ–‡ä»¶URLç¤ºä¾‹ï¼š</h4>
                            <div style="background: #e8f5e8; padding: 10px; border-radius: 5px; font-family: monospace; 
                                       font-size: 0.9em; color: #333;">
                                ${directoryUrl}/01-å˜é‡ä¸æ•°æ®ç±»å‹.mp4<br>
                                ${directoryUrl}/02-åŸºæœ¬è¾“å…¥è¾“å‡º.mp4<br>
                                ${directoryUrl}/03-æ¡ä»¶è¯­å¥.mp4
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">âš ï¸ å¸¸è§é—®é¢˜ï¼š</h4>
                            <ul style="color: #666; line-height: 1.6; padding-left: 20px;">
                                <li><strong>æ— æ³•æ’­æ”¾ï¼š</strong>å¯èƒ½æ˜¯CORSè·¨åŸŸé—®é¢˜ï¼Œå»ºè®®è”ç³»ç®¡ç†å‘˜é…ç½®æœåŠ¡å™¨</li>
                                <li><strong>æ‰¾ä¸åˆ°è§†é¢‘ï¼š</strong>ç¡®ä¿é€‰æ‹©çš„æ˜¯è§†é¢‘æ–‡ä»¶è€Œä¸æ˜¯æ–‡ä»¶å¤¹</li>
                                <li><strong>åœ°å€é”™è¯¯ï¼š</strong>ç¡®ä¿å¤åˆ¶çš„æ˜¯å®Œæ•´çš„è§†é¢‘æ–‡ä»¶URL</li>
                            </ul>
                        </div>
                        
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <button onclick="closeGuide()" 
                                    style="padding: 10px 20px; background: #667eea; color: white; border: none; 
                                           border-radius: 5px; cursor: pointer; font-weight: bold;">
                                âœ“ æˆ‘çŸ¥é“äº†
                            </button>
                            <button onclick="testCommonVideoUrls('${directoryUrl}')" 
                                    style="padding: 10px 20px; background: #27ae60; color: white; border: none; 
                                           border-radius: 5px; cursor: pointer; font-weight: bold;">
                                ğŸ” å°è¯•å¸¸è§è§†é¢‘
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            const overlay = document.createElement('div');
            overlay.id = 'directory-guide-overlay';
            overlay.innerHTML = guideContent;
            document.body.appendChild(overlay);
        }

        function closeGuide() {
            const overlay = document.getElementById('directory-guide-overlay');
            if (overlay) {
                overlay.remove();
            }
        }

        function testCommonVideoUrls(baseUrl) {
            const commonVideoNames = [
                '01-å˜é‡ä¸æ•°æ®ç±»å‹.mp4',
                '02-åŸºæœ¬è¾“å…¥è¾“å‡º.mp4',
                '03-æ¡ä»¶è¯­å¥.mp4',
                '04-å¾ªç¯ç»“æ„.mp4',
                '05-æ•°ç»„.mp4',
                '01.mp4',
                '02.mp4',
                '03.mp4',
                'lesson1.mp4',
                'lesson2.mp4',
                'intro.mp4',
                'part1.mp4',
                'demo.mp4'
            ];
            
            closeGuide();
            
            // æ˜¾ç¤ºæµ‹è¯•ç»“æœçª—å£
            const testContent = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); 
                           z-index: 10000; display: flex; align-items: center; justify-content: center;">
                    <div style="background: white; padding: 30px; border-radius: 15px; max-width: 700px; 
                               max-height: 80vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                        <h3 style="color: #333; margin-bottom: 20px; text-align: center;">ğŸ” æµ‹è¯•å¸¸è§è§†é¢‘æ–‡ä»¶</h3>
                        
                        <div style="margin-bottom: 20px;">
                            <p style="color: #666; text-align: center;">æ­£åœ¨æµ‹è¯•ä»¥ä¸‹å¯èƒ½çš„è§†é¢‘æ–‡ä»¶URL...</p>
                        </div>
                        
                        <div id="test-results" style="max-height: 400px; overflow-y: auto;">
                            <!-- æµ‹è¯•ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                        
                        <div style="margin-top: 20px; text-align: center;">
                            <button onclick="closeTestResults()" 
                                    style="padding: 10px 20px; background: #667eea; color: white; border: none; 
                                           border-radius: 5px; cursor: pointer; font-weight: bold;">
                                å…³é—­
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            const testOverlay = document.createElement('div');
            testOverlay.id = 'test-results-overlay';
            testOverlay.innerHTML = testContent;
            document.body.appendChild(testOverlay);
            
            // å¼€å§‹æµ‹è¯•
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<p style="text-align: center; color: #666;">ğŸ”„ æ­£åœ¨æµ‹è¯•...</p>';
            
            setTimeout(() => {
                let resultsHtml = '';
                
                commonVideoNames.forEach((videoName, index) => {
                    const testUrl = baseUrl + '/' + videoName;
                    const statusColor = Math.random() > 0.7 ? '#27ae60' : '#e74c3c';
                    const statusText = statusColor === '#27ae60' ? 'âœ“ å¯èƒ½å­˜åœ¨' : 'âœ— æ— æ³•è®¿é—®';
                    
                    resultsHtml += `
                        <div style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 5px; 
                                   border-left: 4px solid ${statusColor};">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: bold; color: ${statusColor};">${statusText}</span>
                                <button onclick="tryPlayVideo('${testUrl}')" 
                                        style="padding: 5px 10px; background: #667eea; color: white; border: none; 
                                               border-radius: 3px; cursor: pointer; font-size: 0.8em;">
                                    è¯•æ’­æ”¾
                                </button>
                            </div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px; word-break: break-all;">
                                ${testUrl}
                            </div>
                        </div>
                    `;
                });
                
                resultsDiv.innerHTML = resultsHtml;
                
                // æ·»åŠ è¯´æ˜
                resultsDiv.innerHTML += `
                    <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 5px; 
                               border: 1px solid #ffeaa7; color: #856404;">
                        <strong>âš ï¸ æ³¨æ„ï¼š</strong> è¿™åªæ˜¯åŸºäºå¸¸è§å‘½åè§„åˆ™çš„é¢„æµ‹ï¼Œå®é™…è§†é¢‘æ–‡ä»¶åå¯èƒ½ä¸åŒã€‚
                        è¯·æ ¹æ®å®é™…ç›®å½•å†…å®¹ç¡®å®šæ­£ç¡®çš„è§†é¢‘æ–‡ä»¶URLã€‚
                    </div>
                `;
            }, 2000);
        }

        function tryPlayVideo(videoUrl) {
            document.getElementById('video-url-input').value = videoUrl;
            closeTestResults();
            playCustomVideo();
        }

        function closeTestResults() {
            const overlay = document.getElementById('test-results-overlay');
            if (overlay) {
                overlay.remove();
            }
        }

        function resetVideoProgress() {
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            progressFill.style.width = '0%';
            progressText.textContent = '0%';
        }

        function updateVideoProgress() {
            if (!videoPlayer || !currentLesson) return;
            
            const currentTime = videoPlayer.currentTime();
            const duration = videoPlayer.duration();
            
            if (duration > 0) {
                const progress = (currentTime / duration) * 100;
                const progressFill = document.getElementById('progress-fill');
                const progressText = document.getElementById('progress-text');
                
                progressFill.style.width = progress + '%';
                progressText.textContent = Math.round(progress) + '%';
                
                // å¦‚æœæ’­æ”¾è¶…è¿‡90%ï¼Œæ ‡è®°ä¸ºå®Œæˆ
                if (progress >= 90 && !completedLessons.has(currentLesson)) {
                    markLessonCompleted();
                }
            }
        }

        function onVideoEnded() {
            if (currentLesson && !completedLessons.has(currentLesson)) {
                markLessonCompleted();
            }
        }

        function onVideoPlay() {
            // å¼€å§‹è®¡æ—¶è§‚çœ‹æ—¶é•¿
            if (watchTimeInterval) {
                clearInterval(watchTimeInterval);
            }
            watchTimeInterval = setInterval(() => {
                // è¿™é‡Œå¯ä»¥è®°å½•è§‚çœ‹æ—¶é•¿æ•°æ®
            }, 1000);
        }

        function onVideoPause() {
            // åœæ­¢è®¡æ—¶è§‚çœ‹æ—¶é•¿
            if (watchTimeInterval) {
                clearInterval(watchTimeInterval);
                watchTimeInterval = null;
            }
        }

        function handleVideoError() {
            console.error('è§†é¢‘æ’­æ”¾é”™è¯¯:', videoPlayer.error());
            const errorCode = videoPlayer.error()?.code;
            const errorMessage = videoPlayer.error()?.message;
            
            let userMessage = 'è§†é¢‘æ’­æ”¾å‡ºç°é”™è¯¯';
            let shouldTryNative = false;
            
            switch(errorCode) {
                case 1:
                    userMessage = 'è§†é¢‘åŠ è½½è¢«ä¸­æ–­';
                    break;
                case 2:
                    userMessage = 'ç½‘ç»œé”™è¯¯ï¼Œæ— æ³•åŠ è½½è§†é¢‘';
                    shouldTryNative = true;
                    break;
                case 3:
                    userMessage = 'è§†é¢‘æ ¼å¼ä¸æ”¯æŒ';
                    shouldTryNative = true;
                    break;
                case 4:
                    userMessage = 'è§†é¢‘æºä¸å¯ç”¨ (å¯èƒ½æ˜¯CORSè·¨åŸŸé—®é¢˜)';
                    shouldTryNative = true;
                    break;
                default:
                    userMessage = `è§†é¢‘æ’­æ”¾é”™è¯¯: ${errorMessage || 'æœªçŸ¥é”™è¯¯'}`;
                    shouldTryNative = true;
            }
            
            // æ£€æŸ¥æ˜¯å¦æ˜¯CORSé”™è¯¯
            if (errorMessage && (errorMessage.includes('CORS') || errorMessage.includes('network') || errorMessage.includes('fetch'))) {
                console.log('æ£€æµ‹åˆ°CORSç›¸å…³é”™è¯¯ï¼Œå°è¯•åŸç”Ÿæ’­æ”¾å™¨');
                shouldTryNative = true;
            }
            
            // ç‰¹æ®Šå¤„ç†ï¼šå¦‚æœæ˜¯MEDIA_ERR_SRC_NOT_SUPPORTEDé”™è¯¯ï¼Œå¾ˆå¯èƒ½æ˜¯CORSé—®é¢˜
            if (errorCode === 4) {
                console.log('MEDIA_ERR_SRC_NOT_SUPPORTEDé”™è¯¯ï¼Œå¾ˆå¯èƒ½æ˜¯CORSé—®é¢˜');
                shouldTryNative = true;
                
                // ç»Ÿè®¡CORSé”™è¯¯æ¬¡æ•°
                const currentTime = Date.now();
                if (currentTime - lastCorsErrorTime < 10000) { // 10ç§’å†…é‡å¤é”™è¯¯
                    corsErrorCount++;
                } else {
                    corsErrorCount = 1;
                }
                lastCorsErrorTime = currentTime;
                
                console.log(`CORSé”™è¯¯æ¬¡æ•°: ${corsErrorCount}`);
                
                // å¦‚æœCORSé”™è¯¯é¢‘ç¹ï¼Œç›´æ¥æ˜¾ç¤ºè§£å†³æ–¹æ¡ˆ
                if (corsErrorCount >= 2) {
                    console.log('æ£€æµ‹åˆ°é¢‘ç¹çš„CORSé”™è¯¯ï¼Œç›´æ¥æ˜¾ç¤ºè§£å†³æ–¹æ¡ˆ');
                    showCORSSolution(courseData[currentLesson].videoUrl);
                    return;
                }
            }
            
            if (shouldTryNative && currentLesson && courseData[currentLesson]) {
                console.log('VideoJSæ’­æ”¾å¤±è´¥ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°åŸç”Ÿæ’­æ”¾å™¨');
                setTimeout(() => {
                    fallbackToNativePlayer(courseData[currentLesson].videoUrl);
                }, 500);
            } else {
                showVideoError(userMessage);
            }
        }

        function onVideoLoaded() {
            console.log('è§†é¢‘å…ƒæ•°æ®åŠ è½½å®Œæˆ');
            hideVideoError();
            
            // ç¡®ä¿æ’­æ”¾å™¨å¯ä»¥æ­£å¸¸æ’­æ”¾
            if (videoPlayer) {
                // é‡æ–°ç»‘å®šæ’­æ”¾æŒ‰é’®äº‹ä»¶
                setTimeout(() => {
                    const playButton = videoPlayer.el().querySelector('.vjs-play-control');
                    if (playButton) {
                        playButton.addEventListener('click', () => {
                            console.log('æ’­æ”¾æ§åˆ¶æŒ‰é’®è¢«ç‚¹å‡»');
                            forcePlayVideo();
                        });
                    }
                }, 200);
            }
        }

        function onVideoCanPlay() {
            console.log('è§†é¢‘å¯ä»¥æ’­æ”¾');
            
            // æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒ
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && videoPlayer && document.activeElement.tagName !== 'INPUT') {
                    e.preventDefault();
                    if (videoPlayer.paused()) {
                        forcePlayVideo();
                    } else {
                        videoPlayer.pause();
                    }
                }
            });
        }

        function checkCORSAndFallback(videoUrl) {
            // ä½¿ç”¨æ›´å‡†ç¡®çš„CORSæ£€æµ‹æ–¹æ³•
            const img = new Image();
            img.crossOrigin = 'anonymous';
            
            const timeout = setTimeout(() => {
                console.log('CORSæ£€æµ‹è¶…æ—¶ï¼Œå¯èƒ½å­˜åœ¨è·¨åŸŸé—®é¢˜');
            }, 3000);
            
            img.onload = function() {
                clearTimeout(timeout);
                console.log('å›¾ç‰‡åŠ è½½æˆåŠŸï¼ŒæœåŠ¡å™¨æ”¯æŒCORS');
            };
            
            img.onerror = function() {
                clearTimeout(timeout);
                console.log('å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œå¯èƒ½å­˜åœ¨CORSé—®é¢˜');
            };
            
            // å°è¯•åŠ è½½ä¸€ä¸ªå°çš„æµ‹è¯•å›¾ç‰‡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            const testUrl = videoUrl.substring(0, videoUrl.lastIndexOf('/')) + '/test.jpg';
            img.src = testUrl;
            
            // åŒæ—¶ä½¿ç”¨fetchæ£€æµ‹
            fetch(videoUrl, { 
                method: 'HEAD',
                mode: 'cors'
            })
            .then(response => {
                if (response.ok) {
                    console.log('HEADè¯·æ±‚æˆåŠŸï¼Œä½†ä¸ä»£è¡¨è§†é¢‘æ’­æ”¾æ— CORSé—®é¢˜');
                } else {
                    console.log('HEADè¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç :', response.status);
                }
            })
            .catch(error => {
                if (error.message.includes('CORS') || error.message.includes('fetch')) {
                    console.log('HEADè¯·æ±‚æ£€æµ‹åˆ°CORSé—®é¢˜:', error.message);
                } else {
                    console.log('ç½‘ç»œæˆ–å…¶ä»–é”™è¯¯:', error.message);
                }
            });
        }

        function showVideoError(message) {
            const placeholder = document.getElementById('video-placeholder');
            placeholder.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3em; margin-bottom: 20px; color: #e74c3c;">âš ï¸</div>
                    <h3 style="color: #e74c3c; margin-bottom: 15px;">è§†é¢‘åŠ è½½å¤±è´¥</h3>
                    <p style="color: #666; margin-bottom: 20px;">${message}</p>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; text-align: left;">
                        <h4 style="color: #333; margin-bottom: 10px;">ğŸ’¡ å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š</h4>
                        <ul style="color: #666; margin-left: 20px;">
                            <li>æ£€æŸ¥ç½‘ç»œè¿æ¥</li>
                            <li>è§†é¢‘æœåŠ¡å™¨å¯èƒ½æš‚æ—¶ä¸å¯ç”¨</li>
                            <li>æµè§ˆå™¨å¯èƒ½é˜»æ­¢äº†è·¨åŸŸè¯·æ±‚</li>
                            <li>è§†é¢‘æ–‡ä»¶å¯èƒ½å·²è¢«ç§»åŠ¨æˆ–åˆ é™¤</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 25px;">
                        <button onclick="retryVideoLoad()" 
                                style="padding: 10px 20px; background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); 
                                       color: white; border: none; border-radius: 20px; cursor: pointer; margin-right: 10px;">
                            ğŸ”„ é‡è¯•åŠ è½½
                        </button>
                        <button onclick="openVideoInNewTab()" 
                                style="padding: 10px 20px; background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%); 
                                       color: white; border: none; border-radius: 20px; cursor: pointer;">
                            ğŸ”— åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('video-placeholder').style.display = 'block';
            document.getElementById('lesson-video').style.display = 'none';
        }

        function hideVideoError() {
            // è§†é¢‘åŠ è½½æˆåŠŸæ—¶éšè—é”™è¯¯ä¿¡æ¯
        }

        function retryVideoLoad() {
            if (currentLesson && courseData[currentLesson]) {
                loadVideo(courseData[currentLesson].videoUrl);
            }
        }

        function openVideoInNewTab() {
            if (currentLesson && courseData[currentLesson]) {
                window.open(courseData[currentLesson].videoUrl, '_blank');
            }
        }

        function fallbackToNativePlayer(videoUrl) {
            console.log('åˆ‡æ¢åˆ°åŸç”ŸHTML5æ’­æ”¾å™¨');
            
            // éšè—VideoJSæ’­æ”¾å™¨
            const lessonVideo = document.getElementById('lesson-video');
            if (lessonVideo) {
                lessonVideo.style.display = 'none';
            }
            
            // åˆ›å»ºåŸç”ŸHTML5æ’­æ”¾å™¨
            const videoContainer = document.querySelector('.video-container');
            if (!videoContainer) {
                console.error('æ‰¾ä¸åˆ°è§†é¢‘å®¹å™¨ï¼Œæ— æ³•ä½¿ç”¨åŸç”Ÿæ’­æ”¾å™¨');
                fallbackToIframe(videoUrl);
                return;
            }
            
            const nativeVideo = document.createElement('video');
            nativeVideo.id = 'native-video';
            nativeVideo.controls = true;
            nativeVideo.style.cssText = 'width: 100%; height: 100%; position: absolute; top: 0; left: 0; background: black;';
            nativeVideo.crossOrigin = 'anonymous';
            
            // æ·»åŠ å¤šç§è§†é¢‘æº
            const sources = [
                { src: videoUrl, type: 'video/mp4' },
                { src: videoUrl, type: 'video/mp4; codecs="avc1.42E01E, mp4a.40.2"' },
                { src: videoUrl, type: 'application/octet-stream' }
            ];
            
            sources.forEach(source => {
                const sourceElement = document.createElement('source');
                sourceElement.src = source.src;
                sourceElement.type = source.type;
                nativeVideo.appendChild(sourceElement);
            });
            
            // æ·»åŠ é”™è¯¯å¤„ç†
            nativeVideo.onerror = function(event) {
                console.error('åŸç”Ÿæ’­æ”¾å™¨ä¹Ÿå¤±è´¥äº†ï¼Œæ˜¾ç¤ºç”¨æˆ·è§£å†³æ–¹æ¡ˆ');
                console.log('åŸç”Ÿæ’­æ”¾å™¨é”™è¯¯è¯¦æƒ…:', event);
                
                // ç«‹å³æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä¸å†å°è¯•iframe
                showCORSSolution(videoUrl);
            };
            
            // æ·»åŠ åŠ è½½è¶…æ—¶å¤„ç†
            const loadTimeout = setTimeout(() => {
                if (nativeVideo.readyState === 0) {
                    console.log('åŸç”Ÿæ’­æ”¾å™¨åŠ è½½è¶…æ—¶ï¼Œå¯èƒ½æ˜¯CORSé—®é¢˜');
                    showCORSSolution(videoUrl);
                }
            }, 3000);
            
            nativeVideo.onloadedmetadata = function() {
                console.log('åŸç”Ÿæ’­æ”¾å™¨åŠ è½½æˆåŠŸ');
                clearTimeout(loadTimeout);
                showVideoSuccess('å·²åˆ‡æ¢åˆ°åŸç”Ÿæ’­æ”¾å™¨ï¼Œè§†é¢‘åŠ è½½æˆåŠŸï¼');
            };
            
            nativeVideo.oncanplay = function() {
                console.log('åŸç”Ÿæ’­æ”¾å™¨å¯ä»¥æ’­æ”¾');
            };
            
            // æ¸…é™¤ç°æœ‰çš„åŸç”Ÿæ’­æ”¾å™¨
            const existingNative = document.getElementById('native-video');
            if (existingNative) {
                existingNative.remove();
            }
            
            // æ·»åŠ åˆ°å®¹å™¨
            videoContainer.appendChild(nativeVideo);
            
            // éšè—å ä½ç¬¦
            document.getElementById('video-placeholder').style.display = 'none';
        }

        function showVideoSuccess(message) {
            const placeholder = document.getElementById('video-placeholder');
            placeholder.innerHTML = `
                <div style="text-align: center; padding: 20px; background: #e8f5e8; border-radius: 10px; margin: 20px;">
                    <div style="font-size: 2em; margin-bottom: 10px; color: #4caf50;">âœ…</div>
                    <p style="color: #2e7d32; font-weight: bold;">${message}</p>
                </div>
            `;
            
            document.getElementById('video-placeholder').style.display = 'block';
            
            // 3ç§’åéšè—æˆåŠŸæ¶ˆæ¯
            setTimeout(() => {
                document.getElementById('video-placeholder').style.display = 'none';
            }, 3000);
        }

        function fallbackToIframe(videoUrl) {
            console.log('å°è¯•iframeæ–¹æ¡ˆ');
            
            // éšè—åŸç”Ÿæ’­æ”¾å™¨
            const existingNative = document.getElementById('native-video');
            if (existingNative) {
                existingNative.remove();
            }
            
            const placeholder = document.getElementById('video-placeholder');
            placeholder.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 10px; padding: 20px; margin-bottom: 20px;">
                        <div style="font-size: 2em; margin-bottom: 10px; color: #856404;">âš ï¸</div>
                        <h3 style="color: #856404; margin-bottom: 10px;">è§†é¢‘æ’­æ”¾å—é™</h3>
                        <p style="color: #856404; margin-bottom: 20px;">
                            ç”±äºCORSè·¨åŸŸé™åˆ¶ï¼Œæ— æ³•ç›´æ¥æ’­æ”¾è§†é¢‘ã€‚<br>
                            è¯·å°è¯•ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š
                        </p>
                        
                        <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                            <button onclick="openVideoInNewTab()" 
                                    style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                ğŸ”— åœ¨æ–°æ ‡ç­¾é¡µæ’­æ”¾
                            </button>
                            <button onclick="showVideoDirectory()" 
                                    style="padding: 10px 20px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                ğŸ“ æµè§ˆè§†é¢‘ç›®å½•
                            </button>
                            <button onclick="copyVideoUrl()" 
                                    style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                ğŸ“‹ å¤åˆ¶è§†é¢‘é“¾æ¥
                            </button>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: left;">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ’¡ è§£å†³CORSé—®é¢˜çš„æ–¹æ³•ï¼š</h4>
                        <ul style="color: #6c757d; margin-left: 20px; line-height: 1.6;">
                            <li><strong>Chromeç”¨æˆ·ï¼š</strong> å®‰è£…"CORS Unblock"æ‰©å±•</li>
                            <li><strong>Firefoxç”¨æˆ·ï¼š</strong> å®‰è£…"CORS Everywhere"æ‰©å±•</li>
                            <li><strong>æ‰‹åŠ¨æ–¹æ³•ï¼š</strong> å³é”®è§†é¢‘é“¾æ¥é€‰æ‹©"åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€"</li>
                            <li><strong>ä¸‹è½½è§‚çœ‹ï¼š</strong> å°†è§†é¢‘é“¾æ¥å¤åˆ¶åˆ°ä¸‹è½½å·¥å…·ä¸­</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #e9ecef; border-radius: 8px;">
                        <p style="color: #495057; font-size: 0.9em; margin: 0;">
                            <strong>å½“å‰è§†é¢‘URLï¼š</strong><br>
                            <code style="background: white; padding: 5px; border-radius: 3px; word-break: break-all; font-size: 0.8em;">
                                ${videoUrl}
                            </code>
                        </p>
                    </div>
                </div>
            `;
            
            document.getElementById('video-placeholder').style.display = 'block';
            document.getElementById('lesson-video').style.display = 'none';
        }

        function showVideoDirectory() {
            if (currentLesson && courseData[currentLesson]) {
                const videoUrl = courseData[currentLesson].videoUrl;
                const directoryUrl = videoUrl.substring(0, videoUrl.lastIndexOf('/') + 1);
                window.open(directoryUrl, '_blank');
            }
        }

        function copyVideoUrl() {
            if (currentLesson && courseData[currentLesson]) {
                const videoUrl = courseData[currentLesson].videoUrl;
                navigator.clipboard.writeText(videoUrl).then(() => {
                    alert('è§†é¢‘é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                }).catch(() => {
                    // å¤‡ç”¨å¤ç”¨æ–¹æ³•
                    const textArea = document.createElement('textarea');
                    textArea.value = videoUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    alert('è§†é¢‘é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                });
            }
        }

        function showCORSSolution(videoUrl) {
            console.log('æ˜¾ç¤ºCORSè§£å†³æ–¹æ¡ˆç•Œé¢');
            
            const placeholder = document.getElementById('video-placeholder');
            placeholder.innerHTML = `
                <div style="text-align: center; padding: 30px; background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%); border-radius: 15px; margin: 20px;">
                    <div style="font-size: 3em; margin-bottom: 20px; color: #e17055;">ğŸš«</div>
                    <h2 style="color: #2d3436; margin-bottom: 20px;">è§†é¢‘æ’­æ”¾å—CORSé™åˆ¶</h2>
                    <p style="color: #636e72; margin-bottom: 30px; font-size: 1.1em;">
                        ç”±äºæµè§ˆå™¨çš„è·¨åŸŸå®‰å…¨ç­–ç•¥ï¼Œæ— æ³•ç›´æ¥æ’­æ”¾æ­¤è§†é¢‘ã€‚<br>
                        <strong>è¿™æ˜¯æ­£å¸¸çš„å®‰å…¨æœºåˆ¶ï¼Œä¸æ˜¯æ‚¨çš„æµè§ˆå™¨æˆ–ç½‘ç»œé—®é¢˜ã€‚</strong><br>
                        æˆ‘ä»¬ä¸ºæ‚¨æä¾›äº†å¤šç§è§£å†³æ–¹æ¡ˆï¼š
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                            <div style="font-size: 2em; margin-bottom: 10px; color: #0984e3;">ğŸ”—</div>
                            <h3 style="color: #2d3436; margin-bottom: 10px;">æ–¹æ¡ˆä¸€ï¼šæ–°æ ‡ç­¾é¡µæ’­æ”¾</h3>
                            <p style="color: #636e72; font-size: 0.9em; margin-bottom: 15px;">åœ¨æ–°æ ‡ç­¾é¡µä¸­ç›´æ¥æ’­æ”¾è§†é¢‘</p>
                            <button onclick="openVideoInNewTab()" 
                                    style="width: 100%; padding: 10px; background: #0984e3; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
                                ç«‹å³æ’­æ”¾ ğŸ¬
                            </button>
                        </div>
                        
                                                 <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                             <div style="font-size: 2em; margin-bottom: 10px; color: #00b894;">ğŸ”§</div>
                             <h3 style="color: #2d3436; margin-bottom: 10px;">æ–¹æ¡ˆäºŒï¼šå®‰è£…æµè§ˆå™¨æ‰©å±•</h3>
                             <p style="color: #636e72; font-size: 0.9em; margin-bottom: 15px;">è¯¦ç»†çš„å®‰è£…æŒ‡å—ï¼Œæ”¯æŒChrome/Firefox/Edge</p>
                             <button onclick="showCORSExtensions()" 
                                     style="width: 100%; padding: 10px; background: #00b894; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
                                 æŸ¥çœ‹å®‰è£…æŒ‡å— ğŸ“–
                             </button>
                         </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                            <div style="font-size: 2em; margin-bottom: 10px; color: #e17055;">ğŸ“‹</div>
                            <h3 style="color: #2d3436; margin-bottom: 10px;">æ–¹æ¡ˆä¸‰ï¼šå¤åˆ¶é“¾æ¥</h3>
                            <p style="color: #636e72; font-size: 0.9em; margin-bottom: 15px;">å¤åˆ¶è§†é¢‘é“¾æ¥åˆ°æ’­æ”¾å™¨ä¸­</p>
                            <button onclick="copyVideoUrl()" 
                                    style="width: 100%; padding: 10px; background: #e17055; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
                                å¤åˆ¶é“¾æ¥ ğŸ“±
                            </button>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.7); padding: 20px; border-radius: 10px; text-align: left;">
                        <h4 style="color: #2d3436; margin-bottom: 15px; text-align: center;">ğŸ’¡ ä»€ä¹ˆæ˜¯CORSï¼Ÿ</h4>
                        <p style="color: #636e72; font-size: 0.9em; line-height: 1.6;">
                            CORSï¼ˆè·¨æºèµ„æºå…±äº«ï¼‰æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ï¼Œé˜²æ­¢æ¶æ„ç½‘ç«™è®¿é—®å…¶ä»–ç½‘ç«™çš„èµ„æºã€‚
                            å½“å‰è§†é¢‘æœåŠ¡å™¨æ²¡æœ‰è®¾ç½®å…è®¸è·¨åŸŸè®¿é—®çš„å¤´éƒ¨ï¼Œæ‰€ä»¥æµè§ˆå™¨é˜»æ­¢äº†è§†é¢‘åŠ è½½ã€‚
                            è¿™æ˜¯æ­£å¸¸çš„å®‰å…¨æœºåˆ¶ï¼Œä¸æ˜¯æ‚¨çš„æµè§ˆå™¨æˆ–ç½‘ç»œé—®é¢˜ã€‚
                        </p>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.5); border-radius: 8px;">
                        <details style="cursor: pointer;">
                            <summary style="font-weight: bold; color: #2d3436; margin-bottom: 10px;">ğŸ” æŸ¥çœ‹æŠ€æœ¯è¯¦æƒ…</summary>
                            <p style="color: #636e72; font-size: 0.8em; margin: 10px 0; word-break: break-all;">
                                <strong>è§†é¢‘URLï¼š</strong><br>
                                <code style="background: white; padding: 5px; border-radius: 3px; display: inline-block; margin-top: 5px;">
                                    ${videoUrl}
                                </code>
                            </p>
                        </details>
                    </div>
                </div>
            `;
            
            document.getElementById('video-placeholder').style.display = 'block';
            document.getElementById('lesson-video').style.display = 'none';
            
            // æ¸…é™¤åŸç”Ÿæ’­æ”¾å™¨
            const existingNative = document.getElementById('native-video');
            if (existingNative) {
                existingNative.remove();
            }
        }

        function showCORSExtensions() {
            // åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€è¯¦ç»†çš„CORSæ‰©å±•å®‰è£…æŒ‡å—
            window.open('CORSæ‰©å±•å®‰è£…æŒ‡å—.html', '_blank');
        }

        function markLessonCompleted() {
            if (currentLesson) {
                completedLessons.add(currentLesson);
                const lessonElement = document.querySelector(`[data-lesson="${currentLesson}"]`);
                if (lessonElement) {
                    lessonElement.classList.add('completed');
                }
                updateProgress();
                saveProgress();
                
                // æ˜¾ç¤ºå®Œæˆé€šçŸ¥
                showCompletionNotification();
            }
        }

        function showCompletionNotification() {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 10000;
                font-weight: bold;
                animation: slideIn 0.3s ease-out;
            `;
            notification.innerHTML = 'ğŸ‰ æ­å–œï¼è¯¾ç¨‹å·²å®Œæˆï¼';
            
            document.body.appendChild(notification);
            
            // 3ç§’åè‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function updateProgress() {
            const totalLessons = Object.keys(courseData).length; // æ€»è¯¾ç¨‹æ•°
            const completed = completedLessons.size;
            const progressPercentage = (completed / totalLessons) * 100;
            
            document.getElementById('completed-lessons').textContent = completed;
            
            // æ›´æ–°æ•´ä½“è¿›åº¦
            currentProgress = progressPercentage;
            
            // æ›´æ–°å·²å®Œæˆè¯¾ç¨‹çš„æ˜¾ç¤ºçŠ¶æ€
            completedLessons.forEach(lessonId => {
                const lessonElement = document.querySelector(`[data-lesson="${lessonId}"]`);
                if (lessonElement) {
                    lessonElement.classList.add('completed');
                }
            });
        }

        function playVideo() {
            if (videoPlayer) {
                videoPlayer.play();
            }
        }

        function pauseVideo() {
            if (videoPlayer) {
                videoPlayer.pause();
            }
        }

        function fullScreen() {
            if (videoPlayer) {
                videoPlayer.requestFullscreen();
            }
        }

        function previousLesson() {
            alert('â¬…ï¸ ä¸Šä¸€è¯¾åŠŸèƒ½ï¼šå°†è‡ªåŠ¨è·³è½¬åˆ°å‰ä¸€ä¸ªè¯¾ç¨‹');
        }

        function nextLesson() {
            alert('â¡ï¸ ä¸‹ä¸€è¯¾åŠŸèƒ½ï¼šå°†è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€ä¸ªè¯¾ç¨‹');
        }

        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft' && e.ctrlKey) {
                previousLesson();
            } else if (e.key === 'ArrowRight' && e.ctrlKey) {
                nextLesson();
            } else if (e.key === ' ' && e.ctrlKey) {
                e.preventDefault();
                playVideo();
            }
        });
    </script>
</body>
</html> 